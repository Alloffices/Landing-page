var bwg_param;var bwg=0;jQuery(document).ready(function(){bwg_document_ready();jQuery(".bwg-thumbnails").each(function(){bwg_all_thumnails_loaded(this);});if(typeof bwg_params!='undefined'){jQuery('.bwg_slideshow').each(function(){bwg=jQuery(this).attr('data-bwg');ready_slideshow(bwg);});}});function ready_slideshow(bwg){bwg_container_loaded(bwg);if(bwg_params[bwg]['image_right_click']!=0){jQuery('div[id^="bwg_container"]').bind("contextmenu",function(){return false;});jQuery('div[id^="bwg_container"]').css('webkitTouchCallout','none');}
var data=bwg_params[bwg]['data'];if(typeof jQuery().swiperight!=='undefined'){if(jQuery.isFunction(jQuery().swiperight)){jQuery("#bwg_container1_"+bwg).swiperight(function(){bwg_change_image(parseInt(jQuery("#bwg_current_image_key_"+bwg).val()),(parseInt(jQuery("#bwg_current_image_key_"+bwg).val())-bwg_iterator(bwg))>=0?(parseInt(jQuery("#bwg_current_image_key_"+bwg).val())-bwg_iterator(bwg))%data.length:data.length-1,data,'',bwg);return false;});}}
if(typeof jQuery().swipeleft!=='undefined'){if(jQuery.isFunction(jQuery().swipeleft)){jQuery("#bwg_container1_"+bwg).swipeleft(function(){bwg_change_image(parseInt(jQuery("#bwg_current_image_key_"+bwg).val()),(parseInt(jQuery("#bwg_current_image_key_"+bwg).val())+bwg_iterator(bwg)%data.length),data,'',bwg);return false;});}}
var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var bwg_click=isMobile?'touchend':'click';bwg_popup_resize(bwg);jQuery(".bwg_slideshow_watermark_"+bwg).css({display:'none'});jQuery(".bwg_slideshow_title_text_"+bwg).css({display:'none'});jQuery(".bwg_slideshow_description_text_"+bwg).css({display:'none'});setTimeout(function(){bwg_change_watermark_container(bwg);},500);if(bwg_params[bwg]['filmstrip_direction']=='horizontal'){jQuery(".bwg_slideshow_image_container_"+bwg).height(jQuery(".bwg_slideshow_image_wrap_"+bwg).height()-bwg_params[bwg]['slideshow_filmstrip_height']);}
else{jQuery(".bwg_slideshow_image_container_"+bwg).width(jQuery(".bwg_slideshow_image_wrap_"+bwg).width()-bwg_params[bwg]['slideshow_filmstrip_width']);}
var mousewheelevt=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";jQuery(".bwg_slideshow_filmstrip_"+bwg).bind(mousewheelevt,function(e){var evt=window.event||e;evt=evt.originalEvent?evt.originalEvent:evt;var delta=evt.detail?evt.detail*(-40):evt.wheelDelta;if(delta>0){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).trigger("click");}
else{jQuery(".bwg_slideshow_filmstrip_right_"+bwg).trigger("click");}
return false;});jQuery(".bwg_slideshow_filmstrip_right_"+bwg).on(bwg_click,function(){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).stop(true,false);if(bwg_params[bwg]['left_or_top']=='left'){if(bwg_params[bwg]['width_or_height']=='width'){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left>=-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left<-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width()-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))},500,'linear');}}
window.setTimeout(function(){if((jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left)==-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}else{if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left>=-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height())){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left<-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height()-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))},500,'linear');}}
window.setTimeout(function(){if((jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left)==-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height())){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}}else{if(bwg_params[bwg]['width_or_height']=='width'){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top>=-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top<-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width()-bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width'])){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top-bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width'])},500,'linear');}}
window.setTimeout(function(){if((jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top)==-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).width()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}else{if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top>=-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height())){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top<-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height()-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).width())},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top-(bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']))},500,'linear');}}
window.setTimeout(function(){if((jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top)==-(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).height()-jQuery(".bwg_slideshow_filmstrip_"+bwg).height())){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}}});jQuery(".bwg_slideshow_filmstrip_left_"+bwg).on(bwg_click,function(){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).stop(true,false);if(bwg_params[bwg]['left_or_top']=='left'){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left<0){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left>-bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:0},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({left:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left+bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width'])},500,'linear');}}
window.setTimeout(function(){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().left==0){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}else{if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top<0){jQuery(".bwg_slideshow_filmstrip_right_"+bwg).css({opacity:1,filter:"Alpha(opacity=100)"});if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top>-bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width']){jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:0},500,'linear');}
else{jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).animate({top:(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top+bwg_params[bwg]['filmstrip_thumb_margin_hor']+bwg_params[bwg]['slideshow_filmstrip_width'])},500,'linear');}}
window.setTimeout(function(){if(jQuery(".bwg_slideshow_filmstrip_thumbnails_"+bwg).position().top==0){jQuery(".bwg_slideshow_filmstrip_left_"+bwg).css({opacity:0.3,filter:"Alpha(opacity=30)"});}},500);}});if(bwg_params[bwg]['width_or_height']=='width'){bwg_set_filmstrip_pos(jQuery(".bwg_slideshow_filmstrip_"+bwg).width(),bwg);}else{bwg_set_filmstrip_pos(jQuery(".bwg_slideshow_filmstrip_"+bwg).height(),bwg);}
jQuery("#bwg_slideshow_play_pause_"+bwg).on(bwg_click,function(){if(jQuery(".bwg_ctrl_btn_"+bwg).hasClass("fa-play")){bwg_play(bwg_params[bwg]['data'],bwg);jQuery(".bwg_slideshow_play_pause_"+bwg).attr("title","Pause");jQuery(".bwg_slideshow_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_slideshow_play_pause_"+bwg+" fa fa-pause");if(bwg_params[bwg]['enable_slideshow_music']==1){document.getElementById("bwg_audio_"+bwg).play();}}
else{window.clearInterval(bwg_params[bwg]['bwg_playInterval']);jQuery(".bwg_slideshow_play_pause_"+bwg).attr("title","Play");jQuery(".bwg_slideshow_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_slideshow_play_pause_"+bwg+" fa fa-play");if(bwg_params[bwg]['enable_slideshow_music']==1){document.getElementById("bwg_audio_"+bwg).pause();}}});if(bwg_params[bwg]['enable_slideshow_autoplay']){bwg_play(bwg_params[bwg]['data'],bwg);jQuery(".bwg_slideshow_play_pause_"+bwg).attr("title","Pause");jQuery(".bwg_slideshow_play_pause_"+bwg).attr("class","bwg_ctrl_btn_"+bwg+" bwg_slideshow_play_pause_"+bwg+" fa fa-pause");if(bwg_params[bwg]['enable_slideshow_music']){document.getElementById("bwg_audio_"+bwg).play();}}
if(bwg_params[bwg]['preload_images']){bwg_preload_images(parseInt(jQuery("#bwg_current_image_key_".$bwg).val()),bwg);}
jQuery(".bwg_slideshow_image_"+bwg).removeAttr("width");jQuery(".bwg_slideshow_image_"+bwg).removeAttr("height");}
if(typeof bwg_params!=='undefined'){jQuery('.bwg_slideshow').each(function(){bwg=jQuery(this).attr('data-bwg');jQuery(window).resize(function(){bwg_popup_resize(bwg);});jQuery(window).focus(function(){if(!jQuery(".bwg_ctrl_btn_"+bwg).hasClass("fa-play")){bwg_play(bwg);}
var i=0;jQuery(".bwg_slider_"+bwg).children("span").each(function(){if(jQuery(this).css('opacity')==1){jQuery("#bwg_current_image_key_"+bwg).val(i);}
i++;});});jQuery(window).blur(function(){bwg_params[bwg]['event_stack']=[];window.clearInterval(bwg_params[bwg]['bwg_playInterval']);});});}
function bwg_sumoselect_ready(){jQuery('div[id^="bwg_container"]').each(function(){var bwg_container=jQuery(this);if(bwg_container.data('right-click-protection')){bwg_container.bind("contextmenu",function(){return false;});bwg_container.css('webkitTouchCallout','none');}
var search_tags=bwg_container.find('.search_tags');if(search_tags.length){search_tags.SumoSelect({triggerChangeCombined:true,placeholder:bwg_objectsL10n.bwg_select_tag,search:1,searchText:bwg_objectsL10n.bwg_search,forceCustomRendering:true,noMatch:bwg_objectsL10n.bwg_tag_no_match,captionFormatAllSelected:bwg_objectsL10n.bwg_all_tags_selected,captionFormat:'{0} '+bwg_objectsL10n.bwg_tags_selected,});}
var bwg_order=bwg_container.find('.bwg_order');if(bwg_order.length){bwg_order.SumoSelect({triggerChangeCombined:true,forceCustomRendering:true,});}});}
function bwg_search_focus(that){jQuery(that).parent().find('.bwg_search_input').focus();jQuery(that).hide();}
function bwg_key_press(that){jQuery(that).parent().find('.bwg_search_reset_container').show();jQuery(that).parent().find('.bwg_search_loupe_container1').show();}
jQuery(window).on("resize",function(){jQuery(".bwg-thumbnails").each(function(){bwg_all_thumnails_loaded(this);});});function bwg_all_thumnails_loaded(that){var thumbnails_count=0;var thumbnails_loaded=jQuery(that).find("img").length;jQuery(that).find("img").each(function(){var fakeSrc=jQuery(this).attr("src");jQuery("<img/>").attr("src",fakeSrc).on("load error",function(){if(++thumbnails_count>=thumbnails_loaded){bwg_thumbnail(that);}});});}
function bwg_container_loaded(bwg){jQuery('#gal_front_form_'+bwg).removeClass('bwg-hidden');jQuery('#ajax_loading_'+bwg).addClass('bwg-hidden');}
function bwg_thumbnail(that){var container_width=jQuery(that).width();var thumb_width=jQuery(that).data("thumbnail-width");var max_count=jQuery(that).data("max-count");var column_count=parseInt(container_width/thumb_width)+1;if(column_count>max_count){column_count=max_count;}
var min_width=100/column_count;var bwg_item=jQuery(that).find(".bwg-item");bwg_item.css({width:min_width+"%"});jQuery(that).children(".bwg-item").each(function(){var image=jQuery(this).find("img");var item2=jQuery(this).find(".bwg-item2");if((item2.width()/item2.height())>(image.width()/image.height())){if(item2.width()>image.width()){image.css({width:"100%"});}
else{image.css({maxWidth:"100%"});}}
else{if(item2.height()>image.height()){image.css({height:"100%"});}
else{image.css({maxHeight:"100%"});}}
jQuery(this).find(".bwg-item2").css({marginLeft:(item2.width()-image.width())/2,marginTop:(item2.height()-image.height())/2});});bwg_container_loaded(jQuery(that).data('bwg'));}
function bwg_add_lightbox(){var bwg_touch_flag=false;jQuery(".bwg_lightbox .bwg-item0, .bwg_lightbox .bwg_slide").on("click",function(event){event.stopPropagation();event.preventDefault();var that=jQuery(this).parent();if(!bwg_touch_flag){bwg_touch_flag=true;setTimeout(function(){bwg_touch_flag=false;},100);bwg_gallery_box(jQuery(that).attr("data-image-id"),jQuery(that).closest('.bwg_container'));return false;}});jQuery(".bwg_lightbox .bwg_ecommerce").on("click",function(event){event.stopPropagation();if(!bwg_touch_flag){bwg_touch_flag=true;setTimeout(function(){bwg_touch_flag=false;},100);var image_id=jQuery(this).closest(".bwg_lightbox").attr("data-image-id");bwg_gallery_box(image_id,jQuery(this).closest('.bwg_container'),true);return false;}});}
function bwg_document_ready(){bwg_add_lightbox();jQuery('div[id^="bwg_container"]').each(function(){var bwg_container=jQuery(this);if(bwg_container.data('right-click-protection')){bwg_container.bind("contextmenu",function(){return false;});bwg_container.css('webkitTouchCallout','none');}
jQuery(".SumoSelect > .CaptionCont > label > i").addClass("fa fa-angle-down closed");var search_tags=bwg_container.find('.search_tags');if(search_tags.length){search_tags.SumoSelect({triggerChangeCombined:true,placeholder:bwg_objectsL10n.bwg_select_tag,search:1,searchText:bwg_objectsL10n.bwg_search,forceCustomRendering:true,noMatch:bwg_objectsL10n.bwg_tag_no_match,captionFormatAllSelected:bwg_objectsL10n.bwg_all_tags_selected,captionFormat:'{0} '+bwg_objectsL10n.bwg_tags_selected,});}
var bwg_order=bwg_container.find('.bwg_order');if(bwg_order.length){bwg_order.SumoSelect({triggerChangeCombined:true,forceCustomRendering:true,});}
if(jQuery(this).find('.bwg_search_input').val()==''){jQuery(this).find('search_placeholder_title').show();}
else{jQuery(this).find('search_placeholder_title').hide();}
jQuery(".bwg_thumbnail .bwg_search_container_2").focusout(function(e){if(jQuery(this).find('.bwg_search_input').val()==''){jQuery(this).find('.search_placeholder_title').show();jQuery(this).find('.bwg_search_loupe_container1').hide();jQuery(this).find('.bwg_search_reset_container').hide();}});});var currentTags;var newTags;jQuery('.search_tags').on('sumo:opened',function(event){currentTags=jQuery(this).parent().find('.CaptionCont').attr('title');if(jQuery(this).parent().find('ul li').length==0){jQuery(".no-match").html(bwg_objectsL10n.bwg_tag_no_match);jQuery(".no-match").show();}});jQuery('.bwg_thumbnail .search_tags').on('sumo:closed',function(event){var curCont=jQuery(this).parent().parent();var current_view=curCont.find('.current_view').val();var form_id=curCont.find('.form_id').val();var cur_gal_id=curCont.find('.cur_gal_id').val();var album_gallery_id=curCont.find('.album_gallery_id').val();var type=curCont.find('.type').val();newTags=jQuery(this).parent().find('.CaptionCont').attr('title');if(currentTags!=newTags){bwg_select_tag(current_view,form_id,cur_gal_id,album_gallery_id,type,false);}});jQuery('.bwg_thumbnail .SumoSelect').on('sumo:closed',function(){jQuery(this).find('label i').removeClass('opened fa fa-angle-up');jQuery(this).find('label i').addClass("fa fa-angle-down closed");});jQuery('.bwg_thumbnail .SumoSelect').on('sumo:opened',function(){jQuery(this).find('label i').removeClass('closed fa fa-angle-down');jQuery(this).find('label i').addClass("fa fa-angle-up opened");});var bwg_hash=window.location.hash.substring(1);if(bwg_hash){if(bwg_hash.indexOf("bwg")!="-1"){bwg_hash_array=bwg_hash.replace("bwg","").split("index.html");var bwg_container=jQuery('.bwg_container[data-gallery-id='+bwg_hash_array[0]+']');if(bwg_container){bwg_gallery_box(bwg_hash_array[1],bwg_container);}}}}
function bwg_clear_search_input(current_view){jQuery("#bwg_search_input_"+current_view).val('');}
function bwg_check_search_input_enter(that,e){var key_code=e.which||e.keyCode;if(key_code==13){jQuery(that).closest('.bwg_search_container_1').find('.bwg_search').trigger('click');return false;}
return true;}
function bwg_gallery_box(image_id,bwg_container,openEcommerce){if(typeof openEcommerce==undefined){openEcommerce=false;}
var bwg=bwg_container.data('bwg');var bwg_lightbox_url=bwg_container.data('lightbox-url');var filterTags=jQuery("#bwg_tags_id_bwg_standart_thumbnails_"+bwg).val();filterTags=filterTags?filterTags:0;var ecommerce=openEcommerce==true?"&open_ecommerce=1":"";var filtersearchname=jQuery("#bwg_search_input_"+bwg).val();var filtersortby=jQuery("#bwg_order_"+bwg).val()?"&filtersortby="+jQuery("#bwg_order_"+bwg).val():'';filtersearchname=filtersearchname?filtersearchname:'';spider_createpopup(bwg_lightbox_url+'&image_id='+image_id+"&filter_tag="+filterTags+ecommerce+'&filter_search_name='+filtersearchname+filtersortby,bwg,bwg_container.data('popup-width'),bwg_container.data('popup-height'),1,'testpopup',5,bwg_container.data('buttons-position'));}
function spider_frontend_ajax(form_id,current_view,id,album_gallery_id,cur_album_id,type,srch_btn,title,sortByParam,load_more,description){jQuery(window).off("scroll");jQuery('.bwg_thumbnail .search_tags').off('sumo:closed');var masonry_loaded=0;var mosaic_loaded=0;if(typeof load_more=="undefined"){var load_more=false;}
var page_number=jQuery("#page_number_"+current_view).val();var bwg_load_more=jQuery("#bwg_load_more_"+current_view).val();var bwg_previous_album_ids=jQuery('#bwg_previous_album_id_'+current_view).val();var bwg_previous_album_page_numbers=jQuery('#bwg_previous_album_page_number_'+current_view).val();var post_data={};if(album_gallery_id=='back'){var bwg_previous_album_id=bwg_previous_album_ids.split(",");album_gallery_id=bwg_previous_album_id[1];jQuery('#bwg_previous_album_id_'+current_view).val(bwg_previous_album_ids.replace(bwg_previous_album_id[0]+',',''));var bwg_previous_album_page_number=bwg_previous_album_page_numbers.split(",");page_number=bwg_previous_album_page_number[0];jQuery('#bwg_previous_album_page_number_'+current_view).val(bwg_previous_album_page_numbers.replace(bwg_previous_album_page_number[0]+',',''));post_data["action_"+current_view]='back';}
else if(cur_album_id!=''){jQuery('#bwg_previous_album_id_'+current_view).val(album_gallery_id+','+bwg_previous_album_ids);if(page_number){jQuery('#bwg_previous_album_page_number_'+current_view).val(page_number+','+bwg_previous_album_page_numbers);}
page_number=1;}
if(srch_btn){page_number=1;}
if(typeof title=="undefined"||title==''){var title="";}
if(typeof description=="undefined"||description==''){var description="";}
if(typeof sortByParam=="undefined"||sortByParam==''){var sortByParam=jQuery(".bwg_order_"+current_view).val();}
post_data["page_number_"+current_view]=page_number;post_data["bwg_load_more_"+current_view]=bwg_load_more;post_data["album_gallery_id_"+current_view]=album_gallery_id;post_data["bwg_previous_album_id_"+current_view]=jQuery('#bwg_previous_album_id_'+current_view).val();post_data["bwg_previous_album_page_number_"+current_view]=jQuery('#bwg_previous_album_page_number_'+current_view).val();post_data["type_"+current_view]=type;post_data["title_"+current_view]=title;post_data["description_"+current_view]=description;post_data["sortImagesByValue_"+current_view]=sortByParam;if(jQuery("#bwg_search_input_"+current_view).length>0){post_data["bwg_search_"+current_view]=jQuery("#bwg_search_input_"+current_view).val();}
post_data["bwg_tag_id_"+id]=jQuery("#bwg_tag_id_"+id).val();if(id!="bwg_standart_thumbnails_"+current_view){jQuery("#ajax_loading_"+current_view).css('display','');}
else{jQuery("#ajax_loading_"+current_view).removeClass('bwg-hidden');}
jQuery.ajax({type:"POST",url:window.location,data:post_data,success:function(data){masonry_loaded=jQuery(data).find('#'+form_id).find(".bwg_masonry_thumb_spun_"+current_view+" img").length;mosaic_loaded=jQuery(data).find('#'+form_id).find(".bwg_mosaic_thumb_spun_"+current_view+" img").length;if(load_more){var strr=jQuery(data).find('#'+id).html();jQuery('#'+id).append(strr);jQuery("div[id^='bwg_container1_'] form").each(function(){if(jQuery(this).data("current")==current_view){var str=jQuery(data).find('.bwg_nav_cont_'+current_view).html();jQuery('.bwg_nav_cont_'+current_view).html(str);}
else{var str=jQuery(this).find('span[class^="bwg_nav_cont_"]').html();jQuery(this).find('span[class^="bwg_nav_cont_"]').html(str);}});}
else{var str=jQuery(data).find('#'+form_id).html();jQuery('#'+form_id).html(str);}
if(jQuery("#bwg_search_input_"+current_view).length>0&&album_gallery_id==0){var bwg_images_count=jQuery('#bwg_images_count_'+current_view).val();if(jQuery(data).text().indexOf('There are no images in this gallery.')>-1||jQuery(data).text().indexOf('There are no images.')>-1){bwg_images_count=0;}
if(bwg_images_count==0){var cont=jQuery("#"+id).parent().html();var error_msg='<div style="width:95%"><div class="wd_error"><p><strong>'+bwg_objectL10n.bwg_search_result+'</strong></p></div></div>';if(("#"+id).indexOf('standart_thumbnails')){if(jQuery("#"+id).parent().find('.wd_error').length!=0){jQuery("#"+id).parent().find('.wd_error').parent().remove();}
if(jQuery("#"+id).parent().parent().find('.bwg_download_gallery').length!=0){jQuery("#"+id).parent().parent().find('.bwg_download_gallery').remove();}
jQuery("#"+id).parent().parent().find('.bwg_nav_cont_'+current_view).remove();jQuery("#"+id).empty();cont=jQuery("#"+id).parent().html();var index=jQuery("#"+id).attr('data-bwg');jQuery('#ajax_loading_'+index).addClass('bwg-hidden');jQuery("#"+id).parent().html(error_msg+cont);}else{jQuery("#"+id).parent().html(error_msg+cont);}}}},beforeSend:function(){},complete:function(){jQuery("div[id^='bwg_container1_'] img").each(function(){if(jQuery(this).attr("data-lazy-src")!=''){jQuery(this).attr("src",jQuery(this).attr("data-lazy-src"));}
else if(jQuery(this).attr("data-src")!=''){jQuery(this).attr("src",jQuery(this).attr("data-src"));}});jQuery(".blog_style_image_buttons_conteiner_"+current_view).find(jQuery(".bwg_blog_style_img_"+current_view)).on("load",function(){jQuery(".bwg_blog_style_img_"+current_view).closest(jQuery(".blog_style_image_buttons_conteiner_"+current_view)).show();});if(id!="bwg_standart_thumbnails_"+current_view){jQuery("#ajax_loading_"+current_view).css('display','none');}
jQuery("#bwg_tags_id_"+id).val(jQuery("#bwg_tag_id_"+id).val());if(jQuery(".pagination-links_"+current_view).length){jQuery("html, body").animate({scrollTop:jQuery('#'+form_id).offset().top-150},500);}
if(id=="bwg_standart_thumbnails_"+current_view){bwg_document_ready();bwg_all_thumnails_loaded(".bwg-container-"+current_view);}
else if(id.indexOf('album')===-1&&id.indexOf('bwg_masonry_thumbnails')===-1){window["bwg_document_ready_"+current_view]();}
if(id=="bwg_masonry_thumbnails_"+current_view||id=="bwg_album_masonry_"+current_view){window["bwg_masonry_ajax_"+current_view](masonry_loaded);}
if(id=="bwg_mosaic_thumbnails_"+current_view){window["bwg_mosaic_ajax_"+current_view](mosaic_loaded);}
jQuery(".blog_style_images_conteiner_"+current_view+" .bwg_embed_frame_16x9_"+current_view).each(function(e){jQuery(this).width(jQuery(this).parent().width());jQuery(this).height(jQuery(this).width()*0.5625);});jQuery(".blog_style_images_conteiner_"+current_view+" .bwg_embed_frame_instapost_"+current_view).each(function(e){jQuery(this).width(jQuery(this).parent().width());jQuery(this).height((jQuery(this).width()-16)*jQuery(this).attr('data-height')/jQuery(this).attr('data-width')+96);});jQuery('#bwg_embed_frame_16x9_'+current_view).width(jQuery('#bwg_embed_frame_16x9_'+current_view).parent().width());jQuery('#bwg_embed_frame_16x9_'+current_view).height(jQuery('#bwg_embed_frame_16x9_'+current_view).width()*0.5625);jQuery('#bwg_embed_frame_instapost_'+current_view).width(jQuery('#bwg_embed_frame_16x9_'+current_view).parent().width());jQuery('.bwg_embed_frame_instapost_'+current_view).height((jQuery('.bwg_embed_frame_instapost_'+current_view).width()-16)*jQuery('.bwg_embed_frame_instapost_'+current_view).attr('data-height')/jQuery('.bwg_embed_frame_instapost_'+current_view).attr('data-width')+96);jQuery("#bwg_search_input_"+current_view).val(post_data["bwg_search_"+current_view]);if(jQuery("#bwg_search_input_"+current_view).val()!=''){jQuery("#bwg_search_input_"+current_view).parent().find('.search_placeholder_title').hide();jQuery("#bwg_search_input_"+current_view).parent().parent().find('.bwg_search_reset_container').show();jQuery("#bwg_search_input_"+current_view).parent().parent().find('.bwg_search_loupe_container1').show();}else{jQuery("#bwg_search_input_"+current_view).parent().find('.search_placeholder_title').show();}}});return false;}
function bwg_select_tag(current_view,form_id,cur_gal_id,album_gallery_id,type,reset){if(reset){jQuery("#bwg_tag_id_"+cur_gal_id).val('');}
spider_frontend_ajax(form_id,current_view,cur_gal_id,album_gallery_id,'',type,1,'');}
function bwg_change_image_lightbox(current_key,key,data,from_effect){bwg_current_key=bwg_param['bwg_current_key'];jQuery(".bwg_image_info").css("height","auto");setTimeout(function(){if(jQuery(".bwg_image_info_container1").height()<(jQuery(".bwg_image_info").height()+jQuery(".bwg_toggle_container").height()+bwg_image_info_pos+2*(parseInt(bwg_param['lightbox_info_margin'])))){if(bwg_param['lightbox_ctrl_btn_pos']=='top'){jQuery(".bwg_image_info").css("top",bwg_image_info_pos+"px");}
jQuery(".bwg_image_info").height(jQuery(".bwg_image_info_container1").height()-jQuery(".bwg_toggle_container").height()-bwg_image_info_pos-2*(parseInt(bwg_param['lightbox_info_margin'])));}},200);jQuery("#spider_popup_left").show();jQuery("#spider_popup_right").show();jQuery(".bwg_image_info").hide();if(bwg_param['enable_loop']==0){if(key==(parseInt(data.length)-1)){jQuery("#spider_popup_right").hide();}
if(key==0){jQuery("#spider_popup_left").hide();}}
var ecommerceACtive=bwg_param['ecommerceACtive'];if(ecommerceACtive==1&&bwg_param['enable_image_ecommerce']==1){if(data[key]["pricelist"]==0){jQuery(".bwg_ecommerce").hide();}
else{jQuery(".bwg_ecommerce").show();jQuery(".pge_tabs li").hide();jQuery("#downloads").hide();jQuery("#manual").hide();var pricelistSections=data[key]["pricelist_sections"].split(",");if(pricelistSections){jQuery("#"+pricelistSections[0]).show();jQuery("[name=type]").val(pricelistSections[0]);if(pricelistSections.length>1){jQuery(".pge_tabs").show();for(k=0;k<pricelistSections.length;k++){jQuery("#"+pricelistSections[k]+"_li").show();}}
else{jQuery(".pge_tabs").hide();}}
else{jQuery("[name=type]").val("");}}}
jQuery("#bwg_image_container").find("iframe").each(function(){jQuery(this)[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');jQuery(this)[0].contentWindow.postMessage('{ "method": "pause" }',"*");jQuery(this)[0].contentWindow.postMessage('pause','*');});jQuery("#bwg_image_container").find("video").each(function(){jQuery(this).trigger('pause');});if(typeof data[key]!='undefined'){if(typeof data[current_key]!='undefined'){if(jQuery(".bwg_play_pause").length&&!jQuery(".bwg_play_pause").hasClass("fa-play")){bwg_play(data);}
if(!from_effect){jQuery("#bwg_current_image_key").val(key);}
if(bwg_param['bwg_trans_in_progress']){event_stack.push(current_key+'-'+key);return;}
var direction='right';if(bwg_current_key>key){var direction='left';}
else if(bwg_current_key==key){return;}
jQuery(".bwg_image_count").html(data[key]["number"]);jQuery(".bwg_watermark").css({display:'none'});if(bwg_param['width_or_height']=='width'){bwg_current_filmstrip_pos=key*(jQuery(".bwg_filmstrip_thumbnail").width()+2+2*bwg_param['lightbox_filmstrip_thumb_border_width']);}else if(bwg_param['width_or_height']=='height'){bwg_current_filmstrip_pos=key*(jQuery(".bwg_filmstrip_thumbnail").height()+2+2*bwg_param['lightbox_filmstrip_thumb_border_width']);}
bwg_param['bwg_current_key']=key;window.location.hash="bwg"+bwg_param['gallery_id']+"/"+data[key]["id"];if(bwg_param['popup_enable_rate']){jQuery("#bwg_rate_form input[name='image_id']").val(data[key]["id"]);jQuery("#bwg_star").attr("data-score",data[key]["avg_rating"]);jQuery("#bwg_star").removeAttr("title");bwg_rating(data[key]["rate"],data[key]["rate_count"],data[key]["avg_rating"],key);}
spider_set_input_value('rate_ajax_task','save_hit_count');spider_rate_ajax_save('bwg_rate_form');jQuery(".bwg_image_hits span").html(++data[key]["hit_count"]);jQuery("#bwg_popup_image").attr('image_id',data[key]["id"]);jQuery(".bwg_image_title").html(jQuery('<span style="display: block;" />').html(data[key]["alt"]).text());jQuery(".bwg_image_description").html(jQuery('<span style="display: block;" />').html(data[key]["description"]).text());jQuery(".bwg_filmstrip_thumbnail").removeClass("bwg_thumb_active").addClass("bwg_thumb_deactive");jQuery("#bwg_filmstrip_thumbnail_"+key).removeClass("bwg_thumb_deactive").addClass("bwg_thumb_active");jQuery(".bwg_image_info").css("opacity",1);if(data[key]["alt"].trim()==""){if(data[key]["description"].trim()==""){jQuery(".bwg_image_info").css("background","none");jQuery(".bwg_image_info").css("opacity",0);}}
if(jQuery(".bwg_image_info_container1").css("display")!='none'){jQuery(".bwg_image_info_container1").css("display","table-cell");}
else{jQuery(".bwg_image_info_container1").css("display","none");}
if(jQuery(".bwg_image_rate_container1").css("display")!='none'){jQuery(".bwg_image_rate_container1").css("display","table-cell");}
else{jQuery(".bwg_image_rate_container1").css("display","none");}
var current_image_class=jQuery(".bwg_popup_image_spun").css("zIndex")==2?".bwg_popup_image_spun":".bwg_popup_image_second_spun";var next_image_class=current_image_class==".bwg_popup_image_second_spun"?".bwg_popup_image_spun":".bwg_popup_image_second_spun";var is_embed=data[key]['filetype'].indexOf("EMBED_")>-1?true:false;var is_embed_instagram_post=data[key]['filetype'].indexOf('INSTAGRAM_POST')>-1?true:false;var is_embed_instagram_video=data[key]['filetype'].indexOf('INSTAGRAM_VIDEO')>-1?true:false;var cur_height=jQuery(current_image_class).height();var cur_width=jQuery(current_image_class).width();var innhtml='<span class="bwg_popup_image_spun1" style="display: '+(!is_embed?'table':'block')+' ;width: inherit; height: inherit;"><span class="bwg_popup_image_spun2" style="display:'+(!is_embed?'table-cell':'block')+'; vertical-align: middle;text-align: center;height: 100%;">';if(!is_embed){jQuery(".bwg-loading").removeClass("hidden");jQuery("#bwg_download").removeClass("hidden");innhtml+='<img style="max-height: '+cur_height+'px; max-width: '+cur_width+'px;" class="bwg_popup_image bwg_popup_watermark" src="'+bwg_param['site_url']+jQuery('<span style="display: block;" />').html(data[key]["image_url"]).text()+'" alt="'+data[key]["alt"]+'" />';}
else{jQuery("#bwg_download").addClass("hidden");innhtml+='<span class="bwg_popup_embed bwg_popup_watermark" style="display: block; table-layout: fixed; height: 100%;">'+(is_embed_instagram_video?'<div class="bwg_inst_play_btn_cont" onclick="bwg_play_instagram_video(this)" ><div class="bwg_inst_play"></div></div>':' ');if(is_embed_instagram_post){var post_width=0;var post_height=0;if(cur_height<cur_width+88){post_height=cur_height;post_width=post_height-88;}
else{post_width=cur_width;post_height=post_width+88;}
innhtml+=spider_display_embed(data[key]['filetype'],data[key]['image_url'],data[key]['filename'],{class:"bwg_embed_frame",'data-width':data[key]['image_width'],'data-height':data[key]['image_height'],frameborder:"0",allowfullscreen:"allowfullscreen",style:"width:"+post_width+"px; height:"+post_height+"px; vertical-align:middle; display:inline-block; position:relative;"});}
else{innhtml+=spider_display_embed(data[key]['filetype'],data[key]['image_url'],data[key]['filename'],{class:"bwg_embed_frame",frameborder:"0",allowfullscreen:"allowfullscreen",style:"display:block; width:inherit; height:inherit; vertical-align:middle;"});}
innhtml+="</span>";}
innhtml+='</span></span>';jQuery(next_image_class).html(innhtml);jQuery(next_image_class).find("img").on("load error",function(){jQuery(".bwg-loading").addClass("hidden");});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxWidth:cur_width,maxHeight:cur_height,height:'auto',});function bwg_afterload(){if(bwg_param['preload_images']){bwg_preload_images(key);}
window['bwg_'+bwg_param['bwg_image_effect']](current_image_class,next_image_class,direction);jQuery(current_image_class).find('.bwg_fb_video').each(function(){jQuery(this).attr('src','');});if(!is_embed){jQuery("#bwg_fullsize_image").attr("href",bwg_param['site_url']+data[key]['image_url']);jQuery("#bwg_download").attr("href",bwg_param['site_url']+data[key]['thumb_url'].replace('thumb/index.html','.original/index.html'));}
else{jQuery("#bwg_fullsize_image").attr("href",data[key]['image_url']);}
var image_arr=data[key]['image_url'].split("index.html");jQuery("#bwg_download").attr("download",image_arr[image_arr.length-1]);var bwg_share_url=encodeURIComponent(bwg_param['bwg_share_url'])+"="+data[key]['id']+encodeURIComponent('#bwg'+bwg_param['gallery_id']+'/')+data[key]['id'];if(is_embed){var bwg_share_image_url=encodeURIComponent(data[key]['thumb_url']);}
else{var bwg_share_image_url=bwg_param['bwg_share_image_url']+encodeURIComponent(encodeURIComponent(data[key]['image_url']));}
bwg_share_image_url=bwg_share_image_url.replace(/%252F/g,'%2F');if(typeof addthis_share!="undefined"){addthis_share.url=bwg_share_url;}
jQuery("#bwg_facebook_a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+bwg_share_url);jQuery("#bwg_twitter_a").attr("href","https://twitter.com/share?url="+bwg_share_url);jQuery("#bwg_google_a").attr("href","https://plus.google.com/share?url="+bwg_share_url);jQuery("#bwg_pinterest_a").attr("href","http://pinterest.com/pin/create/button/?s=100&url="+bwg_share_url+"&media="+bwg_share_image_url+"&description="+data[key]['alt']+'%0A'+data[key]['description']);jQuery("#bwg_tumblr_a").attr("href","https://www.tumblr.com/share/photo?source="+bwg_share_image_url+"&caption="+data[key]['alt']+"&clickthru="+bwg_share_url);if(jQuery(".bwg_comment_container").hasClass("bwg_open")){if(data[key]["comment_count"]==0){jQuery("#bwg_added_comments").hide();}
else{jQuery("#bwg_added_comments").show();spider_set_input_value('ajax_task','display');spider_set_input_value('image_id',jQuery('#bwg_popup_image').attr('image_id'));spider_ajax_save('bwg_comment_form');}}
if(jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){if(data[key]["pricelist"]==0){bwg_popup_sidebar_close(jQuery(".bwg_ecommerce_container"));bwg_animate_image_box_for_hide_sidebar();jQuery(".bwg_ecommerce_container").attr("class","bwg_ecommerce_container bwg_close");jQuery(".bwg_ecommerce").attr("title",bwg_objectsL10n.bwg_show_ecommerce);jQuery(".spider_popup_close_fullscreen").show();}
else{get_ajax_pricelist();}}
if(typeof jQuery().mCustomScrollbar!=='undefined'){if(jQuery.isFunction(jQuery().mCustomScrollbar)){jQuery(".bwg_comments").mCustomScrollbar({advanced:{updateOnContentResize:true}});}}
jQuery(".bwg_comments .mCSB_scrollTools").hide();if(bwg_param['enable_image_filmstrip']){bwg_move_filmstrip();}
bwg_resize_instagram_post();}
if(!is_embed){var cur_img=jQuery(next_image_class).find('img');cur_img.one('load',function(){bwg_afterload();}).each(function(){if(this.complete)jQuery(this).load();});}
else{bwg_afterload();}}}}
function bwg_preload_images_lightbox(key){var count_all=data.length;var preloadCount=(bwg_param['preload_images_count']==0||bwg_param['preload_images_count']>=count_all)?count_all:bwg_param['preload_images_count'];var indexedImgCount=0;for(var i=1;indexedImgCount<preloadCount;i++){var sign=1;do{var index=(key+i*sign+count_all)%count_all;if(typeof data[index]!="undefined"){var is_embed=data[index]['filetype'].indexOf("EMBED_")>-1?true:false;if(!is_embed){jQuery("<img/>").attr("src",bwg_param['site_url']+jQuery('<span style="display: block;" />').html(data[index]["image_url"]).text());}}
sign*=-1;indexedImgCount++;}
while(sign!=1);}}
function bwg_cube(tz,ntx,nty,nrx,nry,wrx,wry,current_image_class,next_image_class,direction,bwg){var type_slideshow=false;var bwg_prefix="";var bwg_transition_dur;if(typeof bwg!='undefined'){type_slideshow=true;bwg_params[bwg]['bwg_trans_in_progress']=true;bwg_prefix="_"+bwg;bwg_transition_dur=bwg_params[bwg]['bwg_transition_duration'];var event_stack=bwg_params[bwg]['event_stack']}else{bwg_transition_dur=bwg_transition_duration;}
if(!bwg_testBrowser_cssTransitions(bwg)){return bwg_fallback(current_image_class,next_image_class,direction,bwg);}
if(!bwg_testBrowser_cssTransforms3d(bwg)){return bwg_fallback3d(current_image_class,next_image_class,direction,bwg);}
if(!type_slideshow){bwg_trans_in_progress=true;jQuery(".bwg_filmstrip_thumbnail").removeClass("bwg_thumb_active").addClass("bwg_thumb_deactive");jQuery("#bwg_filmstrip_thumbnail_"+bwg_param['bwg_current_key']).removeClass("bwg_thumb_deactive").addClass("bwg_thumb_active");jQuery(".bwg_slide_bg").css('perspective',1000);}else{jQuery(".bwg_slideshow_filmstrip_thumbnail_"+bwg).removeClass("bwg_slideshow_thumb_active_"+bwg).addClass("bwg_slideshow_thumb_deactive_"+bwg);jQuery("#bwg_filmstrip_thumbnail_"+bwg_params[bwg]['bwg_current_key']+"_"+bwg).removeClass("bwg_slideshow_thumb_deactive_"+bwg).addClass("bwg_slideshow_thumb_active_"+bwg);jQuery(".bwg_slideshow_dots_"+bwg).removeClass("bwg_slideshow_dots_active_"+bwg).addClass("bwg_slideshow_dots_deactive_"+bwg);jQuery("#bwg_dots_"+bwg_params[bwg]['bwg_current_key']+"_"+bwg).removeClass("bwg_slideshow_dots_deactive_"+bwg).addClass("bwg_slideshow_dots_active_"+bwg);jQuery(".bwg_slide_bg_"+bwg).css('perspective',1000);}
jQuery(current_image_class).css({transform:'translateZ('+tz+'px)',backfaceVisibility:'hidden'});jQuery(next_image_class).css({opacity:1,filter:'Alpha(opacity=100)',backfaceVisibility:'hidden',transform:'translateY('+nty+'px) translateX('+ntx+'px) rotateY('+nry+'deg) rotateX('+nrx+'deg)'});jQuery(".bwg_slider"+bwg_prefix).css({transform:'translateZ(-'+tz+'px)',transformStyle:'preserve-3d'});setTimeout(function(){jQuery(".bwg_slider"+bwg_prefix).css({transition:'all '+bwg_transition_dur+'ms ease-in-out',transform:'translateZ(-'+tz+'px) rotateX('+wrx+'deg) rotateY('+wry+'deg)'});},20);jQuery(".bwg_slider"+bwg_prefix).one('webkitTransitionEnd transitionend otransitionend oTransitionEnd mstransitionend',jQuery.proxy(bwg_after_trans));function bwg_after_trans(){jQuery(current_image_class).removeAttr('style');jQuery(next_image_class).removeAttr('style');jQuery(".bwg_slider"+bwg_prefix).removeAttr('style');jQuery(current_image_class).css({'opacity':0,filter:'Alpha(opacity=0)','z-index':1});jQuery(next_image_class).css({'opacity':1,filter:'Alpha(opacity=100)','z-index':2});jQuery(".bwg_image_info").show();bwg_trans_in_progress=false;jQuery(current_image_class).html('');if(type_slideshow){bwg_change_watermark_container(bwg);bwg_params[bwg]['bwg_trans_in_progress']=false;var data=bwg_params[bwg]['data'];}
if(typeof event_stack!=='undefined'){if(event_stack.length>0){key=event_stack[0].split("-");event_stack.shift();bwg_change_image(key[0],key[1],data,true,bwg);}}
bwg_change_watermark_container();}
if(bwg_transition_dur==0){bwg_after_trans();}}
function bwg_fade(current_image_class,next_image_class,direction,bwg){var type_slideshow=false;var bwg_transition_dur;if(typeof bwg!='undefined'){type_slideshow=true;bwg_params[bwg]['bwg_trans_in_progress']=true;bwg_transition_dur=bwg_params[bwg]['bwg_transition_duration'];}else{bwg_transition_dur=bwg_param['bwg_transition_duration'];}
if(type_slideshow){jQuery(".bwg_slideshow_filmstrip_thumbnail_"+bwg).removeClass("bwg_slideshow_thumb_active_"+bwg).addClass("bwg_slideshow_thumb_deactive_"+bwg);jQuery("#bwg_filmstrip_thumbnail_"+bwg_params[bwg]['bwg_current_key']+"_"+bwg).removeClass("bwg_slideshow_thumb_deactive_"+bwg).addClass("bwg_slideshow_thumb_active_"+bwg);jQuery(".bwg_slideshow_dots_"+bwg).removeClass("bwg_slideshow_dots_active_"+bwg).addClass("bwg_slideshow_dots_deactive_"+bwg);jQuery("#bwg_dots_"+bwg_params[bwg]['bwg_current_key']+"_"+bwg).removeClass("bwg_slideshow_dots_deactive_"+bwg).addClass("bwg_slideshow_dots_active_"+bwg);}else{jQuery(".bwg_filmstrip_thumbnail").removeClass("bwg_thumb_active").addClass("bwg_thumb_deactive");jQuery("#bwg_filmstrip_thumbnail_"+bwg_param['bwg_current_key']).removeClass("bwg_thumb_deactive").addClass("bwg_thumb_active");}
function bwg_after_trans(){jQuery(".bwg_image_info").show();bwg_change_watermark_container(bwg);if(type_slideshow){bwg_params[bwg]['bwg_trans_in_progress']=false;}}
if(bwg_testBrowser_cssTransitions()){jQuery(next_image_class).css('transition','opacity '+bwg_transition_dur+'ms linear');jQuery(current_image_class).css({'opacity':0,'z-index':1});jQuery(next_image_class).css({'opacity':1,'z-index':2});jQuery(next_image_class).one('webkitTransitionEnd transitionend otransitionend oTransitionEnd mstransitionend',jQuery.proxy(bwg_after_trans));}
else{jQuery(current_image_class).animate({'opacity':0,'z-index':1},bwg_transition_dur);jQuery(next_image_class).animate({'opacity':1,'z-index':2},{duration:bwg_transition_dur,complete:function(){bwg_trans_in_progress=false;bwg_params[bwg]['bwg_trans_in_progress']=false;jQuery(current_image_class).html('');bwg_after_trans()}});jQuery(current_image_class).fadeTo(bwg_transition_dur,0);jQuery(next_image_class).fadeTo(bwg_transition_dur,1);}
if(bwg_transition_dur==0){bwg_after_trans();}}
function bwg_popup_sidebar_open(obj){var comment_container_width=bwg_param['lightbox_comment_width'];var lightbox_comment_pos=bwg_param['lightbox_comment_pos'];if(comment_container_width>jQuery(window).width()){comment_container_width=jQuery(window).width();obj.css({width:comment_container_width,});jQuery(".spider_popup_close_fullscreen").hide();jQuery(".spider_popup_close").hide();if(jQuery(".bwg_ctrl_btn").hasClass("fa-pause")){var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));jQuery(".bwg_play_pause").trigger(isMobile?'touchend':'click');}}
else{jQuery(".spider_popup_close_fullscreen").show();}
if(lightbox_comment_pos=='left'){obj.animate({left:0},100);}else{obj.animate({right:0},100);}}
function bwg_popup_sidebar_close(obj){var border_width=parseInt(obj.css('borderRightWidth'));if(!border_width){border_width=0;}
if(lightbox_comment_pos=='left'){obj.animate({left:-obj.width()-border_width},100);}else if(lightbox_comment_pos=='right'){obj.animate({right:-obj.width()-border_width},100);}}
function bwg_animate_image_box_for_hide_sidebar(){if(lightbox_comment_pos=='left'){jQuery(".bwg_image_wrap").animate({left:0,width:jQuery("#spider_popup_wrap").width()},100);}else if(lightbox_comment_pos=='right'){jQuery(".bwg_image_wrap").animate({right:0,width:jQuery("#spider_popup_wrap").width()},100);}
jQuery(".bwg_image_container").animate({width:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},100);jQuery(".bwg_popup_image").animate({maxWidth:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},{duration:100,complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_embed").animate({width:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},{duration:100,complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").animate({width:jQuery(".spider_popup_wrap").width()},100);jQuery(".bwg_filmstrip").animate({width:jQuery(".spider_popup_wrap").width()-40},100);}else if(bwg_param['width_or_height']=='height'){jQuery(".bwg_filmstrip_container").animate({height:jQuery(".spider_popup_wrap").width()},100);jQuery(".bwg_filmstrip").animate({height:jQuery(".spider_popup_wrap").width()-40},100);}
bwg_set_filmstrip_pos(jQuery(".spider_popup_wrap").width()-40);jQuery(".spider_popup_close_fullscreen").show(100);}
function bwg_animate_image_box_for_show_sidebar(){var bwg_comment_container=jQuery(".bwg_comment_container").width()||jQuery(".bwg_ecommerce_container").width();if(lightbox_comment_pos=='left'){jQuery(".bwg_image_wrap").animate({left:bwg_comment_container,width:jQuery("#spider_popup_wrap").width()-bwg_comment_container},100);}else if(lightbox_comment_pos=='right'){jQuery(".bwg_image_wrap").animate({right:bwg_comment_container,width:jQuery("#spider_popup_wrap").width()-bwg_comment_container},100);}
jQuery(".bwg_image_container").animate({width:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-bwg_comment_container},100);jQuery(".bwg_popup_image").animate({maxWidth:jQuery("#spider_popup_wrap").width()-bwg_comment_container-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},{duration:100,complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").animate({maxWidth:jQuery("#spider_popup_wrap").width()-bwg_comment_container-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},{duration:100,complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").css({width:jQuery("#spider_popup_wrap").width()-(bwg_param['filmstrip_direction']=='vertical'?0:bwg_comment_container)});jQuery(".bwg_filmstrip").animate({width:jQuery(".bwg_filmstrip_container").width()-40},100);bwg_set_filmstrip_pos(jQuery(".bwg_filmstrip_container").width()-40);}}
function bwg_comment(){jQuery(".bwg_watermark").css({display:'none'});jQuery(".bwg_ecommerce_wrap").css("z-index","-1");jQuery(".bwg_comment_wrap").css("z-index","25");if(jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){bwg_popup_sidebar_close(jQuery(".bwg_ecommerce_container"));jQuery(".bwg_ecommerce_container").attr("class","bwg_ecommerce_container bwg_close");jQuery(".bwg_ecommerce").attr("title",bwg_objectsL10n.bwg_show_ecommerce);}
if(jQuery(".bwg_comment_container").hasClass("bwg_open")){bwg_popup_sidebar_close(jQuery(".bwg_comment_container"));bwg_animate_image_box_for_hide_sidebar();jQuery(".bwg_comment_wrap").css("z-index","-1");jQuery(".bwg_comment_container").attr("class","bwg_comment_container bwg_close");jQuery(".bwg_comment").attr("title",bwg_objectsL10n.bwg_show_comments);jQuery(".spider_popup_close_fullscreen").show();}
else{bwg_popup_sidebar_open(jQuery(".bwg_comment_container"));bwg_animate_image_box_for_show_sidebar();jQuery(".bwg_comment_container").attr("class","bwg_comment_container bwg_open");jQuery(".bwg_comment").attr("title",bwg_objectsL10n.bwg_hide_comments);var cur_image_key=parseInt(jQuery("#bwg_current_image_key").val());if(data[cur_image_key]["comment_count"]!=0){jQuery("#bwg_added_comments").show();spider_set_input_value('ajax_task','display');spider_set_input_value('image_id',jQuery('#bwg_popup_image').attr('image_id'));spider_ajax_save('bwg_comment_form');}}}
function bwg_ecommerce(){jQuery(".bwg_watermark").css({display:'none'});jQuery(".bwg_ecommerce_wrap").css("z-index","25");jQuery(".bwg_comment_wrap").css("z-index","-1");if(jQuery(".bwg_comment_container").hasClass("bwg_open")){bwg_popup_sidebar_close(jQuery(".bwg_comment_container"));jQuery(".bwg_comment_container").attr("class","bwg_comment_container bwg_close");jQuery(".bwg_comment").attr("title",bwg_objectsL10n.bwg_how_comments);}
if(jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){bwg_popup_sidebar_close(jQuery(".bwg_ecommerce_container"));bwg_animate_image_box_for_hide_sidebar();jQuery(".bwg_ecommerce_container").attr("class","bwg_ecommerce_container bwg_close");jQuery(".bwg_ecommerce").attr("title",bwg_objectsL10n.bwg_show_ecommerce);}
else{bwg_popup_sidebar_open(jQuery(".bwg_ecommerce_container"));bwg_animate_image_box_for_show_sidebar();jQuery(".bwg_ecommerce_container").attr("class","bwg_ecommerce_container bwg_open");jQuery(".bwg_ecommerce").attr("title",bwg_objectsL10n.bwg_hide_ecommerce);get_ajax_pricelist();}}
function bwg_reset_zoom(){var isMobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var viewportmeta=document.querySelector('meta[name="viewport"]');if(isMobile){if(viewportmeta){viewportmeta.content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0';}}}
function bwg_open_with_fullscreen(){jQuery(".bwg_watermark").css({display:'none'});var comment_container_width=0;if(jQuery(".bwg_comment_container").hasClass("bwg_open")||jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){comment_container_width=jQuery(".bwg_comment_container").width()||jQuery(".bwg_ecommerce_container").width();}
bwg_popup_current_width=jQuery(window).width();bwg_popup_current_height=window.innerHeight;jQuery("#spider_popup_wrap").css({width:jQuery(window).width(),height:window.innerHeight,left:0,top:0,margin:0,zIndex:100002});jQuery(".bwg_image_wrap").css({width:(jQuery(window).width()-comment_container_width)});jQuery(".bwg_image_container").css({height:(bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)),width:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)});jQuery(".bwg_popup_image").css({maxWidth:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_video").css({width:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxWidth:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").css({width:jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)});jQuery(".bwg_filmstrip").css({width:jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)-40});bwg_set_filmstrip_pos(jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)-40);}else{jQuery(".bwg_filmstrip_container").css({height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)});jQuery(".bwg_filmstrip").css({height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)-40});bwg_set_filmstrip_pos(window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?'comment_container_width':0)-40);}
jQuery(".bwg_resize-full").attr("class","bwg_ctrl_btn bwg_resize-full fa fa-resize-small");jQuery(".bwg_resize-full").attr("title",bwg_objectsL10n.bwg_restore);jQuery(".spider_popup_close").attr("class","bwg_ctrl_btn spider_popup_close_fullscreen");}
function bwg_resize_full(){jQuery(".bwg_watermark").css({display:'none'});var comment_container_width=0;if(jQuery(".bwg_comment_container").hasClass("bwg_open")||jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){comment_container_width=jQuery(".bwg_comment_container").width()||jQuery(".bwg_ecommerce_container").width();}
if(jQuery(".bwg_resize-full").hasClass("fa-resize-small")){if(jQuery(window).width()>bwg_param['image_width']){bwg_popup_current_width=bwg_param['image_width'];}
if(window.innerHeight>bwg_param['image_height']){bwg_popup_current_height=bwg_param['image_height'];}
jQuery("#spider_popup_wrap").animate({width:bwg_popup_current_width,height:bwg_popup_current_height,left:'50%',top:'50%',marginLeft:-bwg_popup_current_width/2,marginTop:-bwg_popup_current_height/2,zIndex:100002},500);jQuery(".bwg_image_wrap").animate({width:bwg_popup_current_width-comment_container_width},500);jQuery(".bwg_image_container").animate({height:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0),width:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},500);jQuery(".bwg_popup_image").animate({maxWidth:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{duration:500,complete:function(){bwg_change_watermark_container();if((jQuery("#spider_popup_wrap").width()<jQuery(window).width())){if(jQuery("#spider_popup_wrap").height()<window.innerHeight){jQuery(".spider_popup_close_fullscreen").attr("class","spider_popup_close");}}}});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").animate({maxWidth:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{duration:500,complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();if(jQuery("#spider_popup_wrap").width()<jQuery(window).width()){if(jQuery("#spider_popup_wrap").height()<window.innerHeight){jQuery(".spider_popup_close_fullscreen").attr("class","spider_popup_close");}}}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").animate({width:bwg_popup_current_width-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)},500);jQuery(".bwg_filmstrip").animate({width:bwg_popup_current_width-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40},500);bwg_set_filmstrip_pos(bwg_popup_current_width-40);}else{jQuery(".bwg_filmstrip_container").animate({height:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)},500);jQuery(".bwg_filmstrip").animate({height:bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40},500);bwg_set_filmstrip_pos(bwg_popup_current_height-40);}
jQuery(".bwg_resize-full").attr("class","bwg_ctrl_btn bwg_resize-full fa fa-resize-full");jQuery(".bwg_resize-full").attr("title","<?php echo __('Maximize', BWG()->prefix); ?>");}
else{bwg_popup_current_width=jQuery(window).width();bwg_popup_current_height=window.innerHeight;jQuery("#spider_popup_wrap").animate({width:jQuery(window).width(),height:window.innerHeight,left:0,top:0,margin:0,zIndex:100002},500);jQuery(".bwg_image_wrap").animate({width:(jQuery(window).width()-comment_container_width)},500);jQuery(".bwg_image_container").animate({height:(bwg_popup_current_height-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)),width:bwg_popup_current_width-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)},500);jQuery(".bwg_popup_image").animate({maxWidth:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{duration:500,complete:function(){bwg_change_watermark_container();}});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").animate({maxWidth:jQuery(window).width()-comment_container_width-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0),maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)},{duration:500,complete:function(){bwg_resize_instagram_post();bwg_change_watermark_container();}});if(bwg_param['width_or_height']=='width'){jQuery(".bwg_filmstrip_container").animate({width:jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)},500);jQuery(".bwg_filmstrip").animate({width:jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40},500);bwg_set_filmstrip_pos(jQuery(window).width()-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40);}else{jQuery(".bwg_filmstrip_container").animate({height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)},500);jQuery(".bwg_filmstrip").animate({height:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40},500);bwg_set_filmstrip_pos(window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?comment_container_width:0)-40);}
jQuery(".bwg_resize-full").attr("class","bwg_ctrl_btn bwg_resize-full fa fa-resize-small");jQuery(".bwg_resize-full").attr("title","<?php echo __('Restore', BWG()->prefix); ?>");jQuery(".spider_popup_close").attr("class","bwg_ctrl_btn spider_popup_close_fullscreen");}}
function bwg_popup_resize_lightbox(){if(typeof jQuery().fullscreen!=='undefined'){if(jQuery.isFunction(jQuery().fullscreen)){if(!jQuery.fullscreen.isFullScreen()){jQuery(".bwg_resize-full").show();if(!jQuery('.bwg_resize-full').hasClass('fa-resize-small')){jQuery(".bwg_resize-full").attr("class","bwg_ctrl_btn bwg_resize-full fa fa-resize-full");}
jQuery(".bwg_resize-full").attr("title",bwg_objectsL10n.bwg_maximize);jQuery(".bwg_fullscreen").attr("class","bwg_ctrl_btn bwg_fullscreen fa fa-fullscreen");jQuery(".bwg_fullscreen").attr("title",bwg_objectsL10n.fulscreen);}}}
var comment_container_width=0;if(jQuery(".bwg_comment_container").hasClass("bwg_open")||jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){comment_container_width=bwg_param['lightbox_comment_width'];}
if(comment_container_width>jQuery(window).width()){comment_container_width=jQuery(window).width();jQuery(".bwg_comment_container").css({width:comment_container_width});jQuery(".bwg_ecommerce_container").css({width:comment_container_width});jQuery(".spider_popup_close_fullscreen").hide();}
else{jQuery(".spider_popup_close_fullscreen").show();}
if(!(!(window.innerHeight>bwg_param['image_height'])||!(bwg_param['open_with_fullscreen']!=1))&&!jQuery('.bwg_resize-full').hasClass('fa-resize-small')){jQuery("#spider_popup_wrap").css({height:bwg_param['image_height'],top:'50%',marginTop:-bwg_param['image_height']/2,zIndex:100002});jQuery(".bwg_image_container").css({height:(bwg_param['image_height']-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0))});jQuery(".bwg_popup_image").css({maxHeight:bwg_param['image_height']-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxHeight:bwg_param['image_height']-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)});if(bwg_param['filmstrip_direction']=='vertical'){jQuery(".bwg_filmstrip_container").css({height:bwg_param['image_height']});jQuery(".bwg_filmstrip").css({height:(bwg_param['image_height']-40)})}
bwg_popup_current_height=bwg_param['image_height'];}
else{jQuery("#spider_popup_wrap").css({height:window.innerHeight,top:0,marginTop:0,zIndex:100002});jQuery(".bwg_image_container").css({height:(window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0))});jQuery(".bwg_popup_image").css({maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxHeight:window.innerHeight-(bwg_param['filmstrip_direction']=='horizontal'?bwg_param['image_filmstrip_height']:0)});if(bwg_param['filmstrip_direction']=='vertical'){jQuery(".bwg_filmstrip_container").css({height:(window.innerHeight)});jQuery(".bwg_filmstrip").css({height:(window.innerHeight-40)});}
bwg_popup_current_height=window.innerHeight;}
if(!(!(jQuery(window).width()>=bwg_param['image_width'])||!(bwg_param['open_with_fullscreen']!=1))){jQuery("#spider_popup_wrap").css({width:bwg_param['image_width'],left:'50%',marginLeft:-bwg_param['image_width']/2,zIndex:100002});jQuery(".bwg_image_wrap").css({width:bwg_param['image_width']-comment_container_width});jQuery(".bwg_image_container").css({width:(bwg_param['image_width']-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width)});jQuery(".bwg_popup_image").css({maxWidth:bwg_param['image_width']-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxWidth:bwg_param['image_width']-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width});if(bwg_param['filmstrip_direction']=='horizontal'){jQuery(".bwg_filmstrip_container").css({width:bwg_param['image_width']-comment_container_width});jQuery(".bwg_filmstrip").css({width:(bwg_param['image_width']-comment_container_width-40)});}
bwg_popup_current_width=bwg_param['image_width'];}
else{jQuery("#spider_popup_wrap").css({width:jQuery(window).width(),left:0,marginLeft:0,zIndex:100002});jQuery(".bwg_image_wrap").css({width:(jQuery(window).width()-comment_container_width)});jQuery(".bwg_image_container").css({width:(jQuery(window).width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width)});jQuery(".bwg_popup_image").css({maxWidth:jQuery(window).width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width});jQuery(".bwg_popup_embed > .bwg_embed_frame > img, .bwg_popup_embed > .bwg_embed_frame > video").css({maxWidth:jQuery(window).width()-(bwg_param['filmstrip_direction']=='vertical'?bwg_param['image_filmstrip_width']:0)-comment_container_width});if(bwg_param['filmstrip_direction']=='horizontal'){jQuery(".bwg_filmstrip_container").css({width:(jQuery(window).width()-comment_container_width)});jQuery(".bwg_filmstrip").css({width:(jQuery(window).width()-comment_container_width-40)});}
bwg_popup_current_width=jQuery(window).width();}
bwg_resize_instagram_post();bwg_change_watermark_container();if(!(!(window.innerHeight>bwg_param['image_height']-2*bwg_param['lightbox_close_btn_top'])||!(jQuery(window).width()>=bwg_param['image_width']-2*bwg_param['lightbox_close_btn_right'])||!(bwg_param['open_with_fullscreen']!=1))){jQuery(".spider_popup_close_fullscreen").attr("class","spider_popup_close");}
else{if(!(!(jQuery("#spider_popup_wrap").width()<jQuery(window).width())||!(jQuery("#spider_popup_wrap").height()<jQuery(window).height()))){jQuery(".spider_popup_close").attr("class","bwg_ctrl_btn spider_popup_close_fullscreen");}}
if(bwg_param['lightbox_ctrl_btn_pos']=='bottom'){if(jQuery(".bwg_toggle_container i").hasClass('fa-angle-down')){jQuery(".bwg_toggle_container").css("bottom",jQuery(".bwg_ctrl_btn_container").height()+"px");}}
if(bwg_param['lightbox_ctrl_btn_pos']=='top'){if(jQuery(".bwg_toggle_container i").hasClass('fa-angle-up')){jQuery(".bwg_toggle_container").css("top",jQuery(".bwg_ctrl_btn_container").height()+"px");}}}
function bwg_change_watermark_container(bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';jQuery(".bwg_slider"+defix).children().each(function(){if(jQuery(this).css("zIndex")==2){var bwg_current_image_span=jQuery(this).find("img");if(bwg_current_image_span.length){if(bwg_current_image_span.prop('complete')){var width=bwg_current_image_span.width();var height=bwg_current_image_span.height();bwg_change_each_watermark_container(width,height,bwg);}
else{bwg_current_image_span.on("load",function(){var width=bwg_current_image_span.width();var height=bwg_current_image_span.height();bwg_change_each_watermark_container(width,height,bwg);});}}
else{bwg_current_image_span=jQuery(this).find("iframe");if(!bwg_current_image_span.length){bwg_current_image_span=jQuery(this).find("video");}
var width=bwg_current_image_span.width();var height=bwg_current_image_span.height();bwg_change_each_watermark_container(width,height,bwg);}}});}
function bwg_change_each_watermark_container(width,height,bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';var source=(typeof bwg!='undefined')?'_slideshow':'';jQuery(".bwg"+source+"_watermark_spun"+defix).width(width);jQuery(".bwg"+source+"_watermark_spun"+defix).height(height);jQuery(".bwg"+source+"_watermark"+defix).css({display:''});if(typeof bwg=='undefined'){var comment_container_width=0;if(jQuery(".bwg_comment_container").hasClass("bwg_open")||jQuery(".bwg_ecommerce_container").hasClass("bwg_open")){comment_container_width=bwg_param['lightbox_comment_width'];}
if(width<=(jQuery(window).width()-comment_container_width)){jQuery(".bwg_watermark_image").css({width:((jQuery(".spider_popup_wrap").width()-comment_container_width)*bwg_param['watermark_font_size']/bwg_param['image_width'])});jQuery(".bwg_watermark_text, .bwg_watermark_text:hover").css({fontSize:((jQuery(".spider_popup_wrap").width()-comment_container_width)*bwg_param['watermark_font_size']/bwg_param['image_width'])});}}else{jQuery(".bwg"+source+"_title_spun"+defix).width(width);jQuery(".bwg"+source+"_title_spun"+defix).height(height);jQuery(".bwg"+source+"_description_spun"+defix).width(width);jQuery(".bwg"+source+"_description_spun"+defix).height(height);}
if(jQuery.trim(jQuery(".bwg"+source+"_title_text"+defix).text())){jQuery(".bwg_slideshow_title_text"+defix).css({display:''});}
if(jQuery.trim(jQuery(".bwg"+source+"_description_text"+defix).text())){jQuery(".bwg"+source+"_description_text"+defix).css({display:''});}}
function bwg_set_filmstrip_pos(filmStripWidth,bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';var source=(typeof bwg!='undefined')?'_slideshow':'';var left_or_top=(typeof bwg!='undefined')?bwg_params[bwg]['left_or_top']:bwg_param['left_or_top'];var top_bottom_space=parseInt(jQuery(".bwg_filmstrip_thumbnails").attr('data-all-images-top-bottom-space'));var right_left_space=parseInt(jQuery(".bwg_filmstrip_thumbnails").attr('data-all-images-right-left-space'));if(typeof bwg=='undefined'){if(bwg_param['outerWidth_or_outerHeight']=='outerWidth'){var selectedImagePos=-bwg_current_filmstrip_pos-(jQuery(".bwg_filmstrip_thumbnail").outerWidth(true))/2;}else if(bwg_param['outerWidth_or_outerHeight']=='outerHeight'){var selectedImagePos=-bwg_current_filmstrip_pos-(jQuery(".bwg_filmstrip_thumbnail").outerHeight(true))/2;}
if(bwg_param['width_or_height']=='width'){var imagesContainerLeft=Math.min(0,Math.max(filmStripWidth-jQuery(".bwg_filmstrip_thumbnails").width(),selectedImagePos+filmStripWidth/2));}else if(bwg_param['width_or_height']=='height'){var imagesContainerLeft=Math.min(0,Math.max(filmStripWidth-jQuery(".bwg_filmstrip_thumbnails").height(),selectedImagePos+filmStripWidth/2));}}else{if(bwg_params[bwg]['width_or_height']=='width'){var selectedImagePos=-bwg_params[bwg]['bwg_current_filmstrip_pos']-(jQuery(".bwg_slideshow_filmstrip_thumbnail"+defix).width()+bwg_params[bwg]['filmstrip_thumb_margin_hor'])/2;var imagesContainerLeft=Math.min(0,Math.max(filmStripWidth-jQuery(".bwg_slideshow_filmstrip_thumbnails"+defix).width(),selectedImagePos+filmStripWidth/2));}
else{var selectedImagePos=-bwg_params[bwg]['bwg_current_filmstrip_pos']-(jQuery(".bwg_slideshow_filmstrip_thumbnail"+defix).height()+bwg_params[bwg]['filmstrip_thumb_margin_hor'])/2;var imagesContainerLeft=Math.min(0,Math.max(filmStripWidth-jQuery(".bwg_slideshow_filmstrip_thumbnails"+defix).height(),selectedImagePos+filmStripWidth/2));}}
if(imagesContainerLeft+right_left_space>0){right_left_space=0;}
if(imagesContainerLeft+top_bottom_space>0){top_bottom_space=0;}
if(left_or_top=='left'){jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({left:imagesContainerLeft+right_left_space},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}else{jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({top:imagesContainerLeft+top_bottom_space},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}}
function bwg_filmstrip_arrows(bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';var source=(typeof bwg!='undefined')?'_slideshow':'';var width_or_height=(typeof bwg!='undefined')?bwg_params[bwg]['width_or_heigh']:bwg_param['width_or_height'];if(width_or_height=='width'){var condition1=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).width();var condition2=jQuery(".bwg"+source+"_filmstrip"+defix).width()}else{var condition1=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).height();var condition2=jQuery(".bwg"+source+"_filmstrip"+defix).height()}
if(condition1<condition2){jQuery(".bwg"+source+"_filmstrip_left"+defix).hide();jQuery(".bwg"+source+"_filmstrip_right"+defix).hide();}
else{jQuery(".bwg"+source+"_filmstrip_left"+defix).show();jQuery(".bwg"+source+"_filmstrip_right"+defix).show();}}
function bwg_move_filmstrip(bwg){var bwg_filmstrip_width;var bwg_filmstrip_thumbnails_width;var image_left;var image_right;var long_filmstrip_cont_left;var long_filmstrip_cont_right;var defix=(typeof bwg!='undefined')?'_'+bwg:'';var source=(typeof bwg!='undefined')?'_slideshow':'';var outerWidth_or_outerHeight=(typeof bwg!='undefined')?bwg_params[bwg]['outerWidth_or_outerHeight']:bwg_param['outerWidth_or_outerHeight'];var left_or_top=(typeof bwg!='undefined')?bwg_params[bwg]['left_or_top']:bwg_param['left_or_top'];if(outerWidth_or_outerHeight=='outerWidth'){bwg_filmstrip_width=jQuery(".bwg"+source+"_filmstrip"+defix).outerWidth(true);bwg_filmstrip_thumbnails_width=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).outerWidth(true);}else{bwg_filmstrip_width=jQuery(".bwg"+source+"_filmstrip"+defix).outerHeight(true);bwg_filmstrip_thumbnails_width=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).outerHeight(true);}
if(left_or_top=='left'){image_left=jQuery(".bwg"+source+"_thumb_active"+defix).position().left;if(outerWidth_or_outerHeight=='outerWidth'){image_right=jQuery(".bwg"+source+"_thumb_active"+defix).position().left+jQuery(".bwg"+source+"_thumb_active"+defix).outerWidth(true);}else{image_right=jQuery(".bwg"+source+"_thumb_active"+defix).position().left+jQuery(".bwg"+source+"_thumb_active"+defix).outerHeight(true);}
long_filmstrip_cont_left=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).position().left;long_filmstrip_cont_right=Math.abs(jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).position().left)+bwg_filmstrip_width;}else{image_left=jQuery(".bwg"+source+"_thumb_active"+defix).position().top;if(outerWidth_or_outerHeight=='outerWidth'){image_right=jQuery(".bwg"+source+"_thumb_active"+defix).position().top+jQuery(".bwg"+source+"_thumb_active"+defix).outerWidth(true);}else{image_right=jQuery(".bwg"+source+"_thumb_active"+defix).position().top+jQuery(".bwg"+source+"_thumb_active"+defix).outerHeight(true);}
long_filmstrip_cont_left=jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).position().top;long_filmstrip_cont_right=Math.abs(jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).position().top)+bwg_filmstrip_width;}
if(bwg_filmstrip_width>bwg_filmstrip_thumbnails_width){return;}
if(image_left<Math.abs(long_filmstrip_cont_left)){if(left_or_top=='left'){jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({left:-image_left},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}else{jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({top:-image_left},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}}
else if(image_right>long_filmstrip_cont_right){if(left_or_top=='left'){jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({left:-(image_right-bwg_filmstrip_width)},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}else{jQuery(".bwg"+source+"_filmstrip_thumbnails"+defix).animate({top:-(image_right-bwg_filmstrip_width)},{duration:500,complete:function(){bwg_filmstrip_arrows(bwg);}});}}}
function bwg_move_dots(bwg){var image_left=jQuery(".bwg_slideshow_dots_active_"+bwg).position().left;var image_right=jQuery(".bwg_slideshow_dots_active_"+bwg).position().left+jQuery(".bwg_slideshow_dots_active_"+bwg).outerWidth(true);var bwg_dots_width=jQuery(".bwg_slideshow_dots_container_"+bwg).outerWidth(true);var bwg_dots_thumbnails_width=jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).outerWidth(false);var long_filmstrip_cont_left=jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).position().left;var long_filmstrip_cont_right=Math.abs(jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).position().left)+bwg_dots_width;if(bwg_dots_width>bwg_dots_thumbnails_width){return;}
if(image_left<Math.abs(long_filmstrip_cont_left)){jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).animate({left:-image_left},{duration:500,complete:function(){}});}
else if(image_right>long_filmstrip_cont_right){jQuery(".bwg_slideshow_dots_thumbnails_"+bwg).animate({left:-(image_right-bwg_dots_width)},{duration:500,complete:function(){}});}}
function bwg_testBrowser_cssTransitions(bwg){return bwg_testDom('Transition',bwg);}
function bwg_testBrowser_cssTransforms3d(bwg){return bwg_testDom('Perspective',bwg);}
function bwg_testDom(prop,bwg){var browserVendors=['','-webkit-','-moz-','-ms-','-o-','-khtml-'];var domPrefixes=['','Webkit','Moz','ms','O','Khtml'];var i=domPrefixes.length;while(i--){if(typeof document.body.style[domPrefixes[i]+prop]!=='undefined'){return true;}}
return false;}
function bwg_fallback(current_image_class,next_image_class,direction,bwg){bwg_fade(current_image_class,next_image_class,direction,bwg);}
function bwg_fallback3d(current_image_class,next_image_class,direction,bwg){bwg_sliceV(current_image_class,next_image_class,direction,bwg);}
function bwg_none(current_image_class,next_image_class,direction,bwg){var defix=(typeof bwg!='undefined')?'_'+bwg:'';jQuery(current_image_class).css({'opacity':0,'z-index':1});jQuery(next_image_class).css({'opacity':1,'z-index':2});if(typeof bwg!='undefined'){var bwg_current_key=bwg_params[bwg]['bwg_current_key'];bwg_change_watermark_container(bwg);jQuery(".bwg_slideshow_filmstrip_thumbnail"+defix).removeClass("bwg_slideshow_thumb_active"+defix).addClass("bwg_slideshow_thumb_deactive"+defix);jQuery("#bwg_filmstrip_thumbnail_"+bwg_current_key+defix).removeClass("bwg_slideshow_thumb_deactive"+defix).addClass("bwg_slideshow_thumb_active"+defix);jQuery(".bwg_slideshow_dots"+defix).removeClass("bwg_slideshow_dots_active"+defix).addClass("bwg_slideshow_dots_deactive"+defix);jQuery("#bwg_dots_"+bwg_current_key+defix).removeClass("bwg_slideshow_dots_deactive"+defix).addClass("bwg_slideshow_dots_active"+defix);}else{jQuery(".bwg_image_info").show();bwg_trans_in_progress=false;jQuery(current_image_class).html('');bwg_change_watermark_container();}}
function bwg_iterator(bwg){var iterator=1;if(bwg_params[bwg]['enable_slideshow_shuffle']){iterator=Math.floor((bwg_params[bwg]['data'].length-1)*Math.random()+1);}
return iterator;}
function bwg_change_image_slideshow(current_key,key,data,from_effect,bwg){jQuery("#bwg_slideshow_image_container_"+bwg).find("iframe").each(function(){jQuery(this)[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');jQuery(this)[0].contentWindow.postMessage('{ "method": "pause" }',"*");jQuery(this)[0].contentWindow.postMessage('pause','*');});jQuery('#image_id_'+bwg+'_'+data[current_key]["id"]).find('.bwg_fb_video').each(function(){jQuery(this).attr('src',jQuery(this).attr('src'));});if(data[key]){if(jQuery('.bwg_ctrl_btn_'+bwg).hasClass('fa-pause')){bwg_play(bwg_params[bwg]['data'],bwg);}
if(!from_effect){jQuery("#bwg_current_image_key_"+bwg).val(key);if(current_key=='-1'){current_key=jQuery(".bwg_slideshow_thumb_active_"+bwg).children("img").attr("image_key");}
else if(current_key=='-2'){current_key=jQuery(".bwg_slideshow_dots_active_"+bwg).attr("image_key");}}
if(bwg_params[bwg]['bwg_trans_in_progress']){bwg_params[bwg]['event_stack'].push(current_key+'-'+key);return;}
var direction='right';if(current_key>key){var direction='left';}else if(current_key==key){return;}
jQuery(".bwg_slideshow_watermark_"+bwg).css({display:'none'});jQuery(".bwg_slideshow_title_text_"+bwg).css({display:'none'});jQuery(".bwg_slideshow_description_text_"+bwg).css({display:'none'});if(bwg_params[bwg]['width_or_height']=='width'){bwg_params[bwg]['bwg_current_filmstrip_pos']=key*(jQuery(".bwg_slideshow_filmstrip_thumbnail_"+bwg).width()+2+2*bwg_params[bwg]['lightbox_filmstrip_thumb_border_width']);}else{bwg_params[bwg]['bwg_current_filmstrip_pos']=key*(jQuery(".bwg_slideshow_filmstrip_thumbnail_"+bwg).height()+2+2*bwg_params[bwg]['lightbox_filmstrip_thumb_border_width']);}
current_key=key;bwg_params[bwg]['bwg_current_key']=current_key;jQuery("#bwg_slideshow_image_"+bwg).attr('image_id',data[key]["id"]);jQuery(".bwg_slideshow_title_text_"+bwg).html(jQuery('<span style="display: block;" />').html(data[key]["alt"]).text());jQuery(".bwg_slideshow_description_text_"+bwg).html(jQuery('<span style="display: block;" />').html(data[key]["description"]).text());var current_image_class=jQuery(".bwg_slideshow_image_spun_"+bwg).css("zIndex")==2?".bwg_slideshow_image_spun_"+bwg:".bwg_slideshow_image_second_spun_"+bwg;var next_image_class=current_image_class==".bwg_slideshow_image_second_spun_"+bwg?".bwg_slideshow_image_spun_"+bwg:".bwg_slideshow_image_second_spun_"+bwg;var is_embed=data[key]['filetype'].indexOf("EMBED_")>-1?true:false;var is_embed_instagram_post=data[key]['filetype'].indexOf('INSTAGRAM_POST')>-1?true:false;var is_embed_instagram_video=data[key]['filetype'].indexOf('INSTAGRAM_VIDEO')>-1?true:false;var cur_height=jQuery(current_image_class).height();var cur_width=jQuery(current_image_class).width();var innhtml='<span class="bwg_slideshow_image_spun1_'+bwg+'" style="display:  '+(!is_embed?'table':'block')+' ;width: inherit; height: inherit;"><span class="bwg_slideshow_image_spun2_'+bwg+'" style="display: '+(!is_embed?'table-cell':'block')+'; vertical-align: middle; text-align: center; ">';if(!is_embed){if(bwg_params[bwg]['thumb_click_action']!='do_nothing'){var argument='';if(bwg_params[bwg]['thumb_click_action']=='open_lightbox')
{argument+=' class="bwg_lightbox" data-image-id="'+data[key]["id"]+'"';}else{if(bwg_params[bwg]["thumb_click_action"]=="redirect_to_url"&&data[key]["redirect_url"]){argument+='href = '+data[key]["redirect_url"]+(bwg_params[bwg]['thumb_link_target'])?' target = _blank':'';}}
innhtml+='<a '+argument+'>';}
innhtml+='<img style="max-height: '+cur_height+'px !important; max-width: '+cur_width+'px !important; display:inline-block;" ';innhtml+=' class="bwg_slide bwg_slideshow_image_'+bwg+'" ';innhtml+=' id="bwg_slideshow_image_'+bwg+'" ';innhtml+=' src="'+bwg_params[bwg]['upload_url']+jQuery("<span style=\'display: block;\' />").html(data[key]["image_url"]).text()+'" alt="'+data[key]["alt"]+'" image_id="'+data[key]["id"]+'" /></a>';}else{innhtml+='<span style="height: '+cur_height+'px; width: '+cur_width+'px;" class="bwg_popup_embed bwg_popup_watermark">';if(is_embed_instagram_video){innhtml+='<span class="bwg_inst_play_btn_cont" onclick="bwg_play_instagram_video(this)"><span class="bwg_inst_play"></span></span>';}
if(is_embed_instagram_post){var post_width=0;var post_height=0;if(cur_height<cur_width+88){post_height=cur_height;post_width=post_height-88;}
else{post_width=cur_width;post_height=post_width+88;}
innhtml+=spider_display_embed(data[key]['filetype'],data[key]['image_url'],data[key]['filename'],{class:"bwg_embed_frame",'data-width':data[key]['image_width'],'data-height':data[key]['image_height'],frameborder:"0",allowfullscreen:"allowfullscreen",style:"width:"+post_width+"px; height:"+post_height+"px; vertical-align:middle; display:inline-block; position:relative;"});}else{innhtml+=spider_display_embed(data[key]['filetype'],data[key]['image_url'],data[key]['filename'],{class:"bwg_embed_frame",frameborder:"0",allowfullscreen:"allowfullscreen",style:"width:inherit; height:inherit; vertical-align:middle; display:table-cell;"});}
innhtml+="</span>";}
innhtml+='</span></span>';jQuery(next_image_class).html(innhtml);if(bwg_params[bwg]['preload_images']){bwg_preload_images(key,bwg);}
window["bwg_"+bwg_params[bwg]['slideshow_effect']](current_image_class,next_image_class,direction,bwg);if(bwg_params[bwg]['enable_slideshow_filmstrip']){bwg_move_filmstrip(bwg);}
else{bwg_move_dots(bwg);}
if(data[key]["is_embed_video"]){jQuery("#bwg_slideshow_play_pause_"+bwg).css({display:'none'});}
else{jQuery("#bwg_slideshow_play_pause_"+bwg).css({display:''});}}
bwg_add_lightbox();}
function bwg_preload_images_slideshow(key,bwg){var data=bwg_params[bwg]['data'];count=bwg_params[bwg]['preload_images_count']/2;var count_all=data.length;if(count_all<bwg_params[bwg]['preload_images_count']){count=0;}
if(count!=0){for(var i=key-count;i<key+count;i++){var index=parseInt((i+count_all)%count_all);var is_embed=data[index]['filetype'].indexOf("EMBED_")>-1?true:false;if(typeof data[index]!="undefined"){if(!is_embed){jQuery("<img/>").attr("src",bwg_params[bwg]['upload_url']+jQuery('<span style="display: block;" />').html(data[index]["image_url"]).text());}}}}else{for(var i=0;i<data.length;i++){var is_embed=data[i]['filetype'].indexOf("EMBED_")>-1?true:false;if(typeof data[i]!="undefined"){if(!is_embed){jQuery("<img/>").attr("src",bwg_params[bwg]['upload_url']+jQuery('<span style="display: block;" />').html(data[i]["image_url"]).text());}}}}}
function bwg_preload_images(key,bwg){if(typeof bwg!='undefined'){bwg_preload_images_slideshow(key,bwg);}else{bwg_preload_images_lightbox(key);}}
function bwg_popup_resize_slidshow(bwg){var parent_width=jQuery(".bwg_slideshow_image_wrap_"+bwg).parent().width();var data=bwg_params[bwg]['data'];if(parent_width>=bwg_params[bwg]['image_width']){jQuery(".bwg_slideshow_image_wrap_"+bwg).css({width:bwg_params[bwg]['image_width']});jQuery(".bwg_slideshow_image_wrap_"+bwg).css({height:bwg_params[bwg]['image_height']});jQuery(".bwg_slideshow_image_container_"+bwg).css({width:(bwg_params[bwg]['filmstrip_direction']=='horizontal')?bwg_params[bwg]['image_width']:(bwg_params[bwg]['image_width']-bwg_params[bwg]['slideshow_filmstrip_width'])});jQuery(".bwg_slideshow_image_container_"+bwg).css({height:(bwg_params[bwg]['filmstrip_direction']=='horizontal')?bwg_params[bwg]['image_height']-bwg_params[bwg]['slideshow_filmstrip_height']:bwg_params[bwg]['image_height']});jQuery(".bwg_slideshow_image_"+bwg).css({cssText:"max-width: "+(bwg_params[bwg]['filmstrip_direction']=='horizontal ')?bwg_params[bwg]['image_width']:(bwg_params[bwg]['image_width']-bwg_params[bwg]['slideshow_filmstrip_width'])+"px !important; max-height: "+(bwg_params[bwg]['filmstrip_direction']=='horizontal')?(bwg_params[bwg]['image_height']-bwg_params[bwg]['slideshow_filmstrip_height']):bwg_params[bwg]['image_height']+"px !important;"});jQuery(".bwg_slideshow_embed_"+bwg).css({cssText:"width: "+(bwg_params[bwg]['filmstrip_direction']=='horizontal')?bwg_params[bwg]['image_width']:(bwg_params[bwg]['image_width']-bwg_params[bwg]['slideshow_filmstrip_width'])+"px !important; height:"+(bwg_params[bwg]['filmstrip_direction']=='horizontal')?(bwg_params[bwg]['image_height']-bwg_params[bwg]['slideshow_filmstrip_height']):bwg_params[bwg]['image_height']+"px !important;"});bwg_resize_instagram_post(bwg);bwg_change_watermark_container(bwg);var filmstrip_container_css=(bwg_params[bwg]['filmstrip_direction']=='horizontal')?'width: '+bwg_params[bwg]['image_width']:'height: '+bwg_params[bwg]['image_height'];var filmstrip_css=(bwg_params[bwg]['filmstrip_direction']=='horizontal')?'width: '+(bwg_params[bwg]['image_width']-40):'height: '+(bwg_params[bwg]['image_height']-40);jQuery(".bwg_slideshow_filmstrip_container_"+bwg).css({cssText:filmstrip_container_css});jQuery(".bwg_slideshow_filmstrip_"+bwg).css({cssText:filmstrip_css});jQuery(".bwg_slideshow_dots_container_"+bwg).css({width:bwg_params[bwg]['image_width']});jQuery("#bwg_slideshow_play_pause-ico_"+bwg).css({fontSize:(bwg_params[bwg]['slideshow_play_pause_btn_size'])});jQuery(".bwg_slideshow_watermark_image_"+bwg).css({maxWidth:bwg_params[bwg]['watermark_width'],maxHeight:bwg_params[bwg]['watermark_height']});if(bwg_params[bwg]['watermark_type']=='text'){jQuery(".bwg_slideshow_watermark_text_"+bwg+", .bwg_slideshow_watermark_text_"+bwg+" : hover").css({fontSize:(bwg_params[bwg]['watermark_font_size'])});}
jQuery(".bwg_slideshow_title_text_"+bwg).css({fontSize:(bwg_params[bwg]['slideshow_title_font_size']*2)});jQuery(".bwg_slideshow_description_text_"+bwg).css({fontSize:(bwg_params[bwg]['slideshow_description_font_size']*2)});}
else{jQuery(".bwg_slideshow_image_wrap_"+bwg).css({width:(parent_width)});jQuery(".bwg_slideshow_image_wrap_"+bwg).css({height:((parent_width)*bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_image_container_"+bwg).css({width:(parent_width-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?0:bwg_params[bwg]['slideshow_filmstrip_width']))});jQuery(".bwg_slideshow_image_container_"+bwg).css({height:((parent_width)*bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width']-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?bwg_params[bwg]['slideshow_filmstrip_height']:0))});jQuery(".bwg_slideshow_image_"+bwg).css({cssText:"max-width: "+(parent_width-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?0:bwg_params[bwg]['slideshow_filmstrip_width']))+"px !important; max-height: "+(parent_width*(bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width'])-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?bwg_params[bwg]['slideshow_filmstrip_height']:0)-1)+"px !important;"});jQuery(".bwg_slideshow_embed_"+bwg).css({cssText:"width: "+(parent_width-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?0:bwg_params[bwg]['slideshow_filmstrip_width']))+"px !important; height: "+(parent_width*(bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width'])-(bwg_params[bwg]['filmstrip_direction']=='horizontal'?bwg_params[bwg]['slideshow_filmstrip_height']:0)-1)+"px !important;"});bwg_resize_instagram_post(bwg);bwg_change_watermark_container(bwg);if(bwg_params[bwg]['filmstrip_direction']=='horizontal'){jQuery(".bwg_slideshow_filmstrip_container_"+bwg).css({width:(parent_width)});jQuery(".bwg_slideshow_filmstrip_"+bwg).css({width:(parent_width-40)});}else{jQuery(".bwg_slideshow_filmstrip_container_"+bwg).css({height:(parent_width*bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_filmstrip_"+bwg).css({height:(parent_width*bwg_params[bwg]['image_height']/bwg_params[bwg]['image_width']-40)});}
jQuery(".bwg_slideshow_dots_container_"+bwg).css({width:(parent_width)});jQuery("#bwg_slideshow_play_pause-ico_"+bwg).css({fontSize:((parent_width)*bwg_params[bwg]['slideshow_play_pause_btn_size']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_watermark_image_"+bwg).css({maxWidth:((parent_width)*bwg_params[bwg]['watermark_width']/bwg_params[bwg]['image_width']),maxHeight:((parent_width)*bwg_params[bwg]['watermark_height']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_watermark_text_"+bwg+", .bwg_slideshow_watermark_text_"+bwg+":hover").css({fontSize:((parent_width)*bwg_params[bwg]['watermark_font_size']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_title_text_"+bwg).css({fontSize:((parent_width)*2*bwg_params[bwg]['slideshow_title_font_size']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_description_text_"+bwg).css({fontSize:((parent_width)*2*bwg_params[bwg]['slideshow_description_font_size']/bwg_params[bwg]['image_width'])});jQuery(".bwg_slideshow_image_"+bwg).css({'display':'inline-block'});}
if(data[parseInt(jQuery("#bwg_current_image_key_"+bwg).val())]["is_embed_video"]){jQuery("#bwg_slideshow_play_pause_"+bwg).css({display:'none'});}
else{jQuery("#bwg_slideshow_play_pause_"+bwg).css({display:''});}}
function bwg_popup_resize(bwg){if(typeof bwg!='undefined'){bwg_popup_resize_slidshow(bwg);}else{bwg_popup_resize_lightbox();}}
function bwg_change_image(current_key,key,data,from_effect,bwg){if(typeof bwg!='undefined'){bwg_change_image_slideshow(current_key,key,data,from_effect,bwg);}else{bwg_change_image_lightbox(current_key,key,data,from_effect);}}
function bwg_resize_instagram_post(bwg){if(typeof bwg!='undefined'){if(jQuery(".inner_instagram_iframe_bwg_embed_frame_"+bwg).length){var post_width=jQuery(".bwg_slideshow_embed_"+bwg).width();var post_height=jQuery(".bwg_slideshow_embed_").height();jQuery(".inner_instagram_iframe_bwg_embed_frame_"+bwg).each(function(){var parent_container=jQuery(this).parent();if(post_height/(parseInt(parent_container.attr('data-height'))+96)<post_width/parseInt(parent_container.attr('data-width'))){parent_container.height(post_height);parent_container.width((parent_container.height()-96)*parent_container.attr('data-width')/parent_container.attr('data-height')+16);}
else{parent_container.width(post_width);parent_container.height((parent_container.width()-16)*parent_container.attr('data-height')/parent_container.attr('data-width')+96);}});bwg_change_watermark_container(bwg);}}else{if(jQuery('.inner_instagram_iframe_bwg_embed_frame').length){var post_width=jQuery(".bwg_image_container").width();var post_height=jQuery(".bwg_image_container").height();var FeedbackSocialProofHeight=132;jQuery('.inner_instagram_iframe_bwg_embed_frame').each(function(){var parent_container=jQuery(this).parent();if(post_height/(parseInt(parent_container.attr('data-height'))+FeedbackSocialProofHeight)<post_width/parseInt(parent_container.attr('data-width'))){parent_container.height(post_height);parent_container.width((parent_container.height()-FeedbackSocialProofHeight)*parent_container.attr('data-width')/parent_container.attr('data-height')+16);}
else{parent_container.width(post_width);parent_container.height((parent_container.width()-16)*parent_container.attr('data-height')/parent_container.attr('data-width')+96);}
parent_container.css({top:0.5*(post_height-parent_container.height())});});bwg_change_watermark_container();}}}
function bwg_play(data,bwg){if(typeof bwg!='undefined'){var data=bwg_params[bwg]['data'];}
if(typeof bwg!='undefined'){window.clearInterval(bwg_params[bwg]['bwg_playInterval']);bwg_params[bwg]['bwg_playInterval']=setInterval(function(){var iterator=1;if(bwg_params[bwg]['enable_slideshow_shuffle']){iterator=Math.floor((data.length-1)*Math.random()+1);}
bwg_change_image(parseInt(jQuery("#bwg_current_image_key_"+bwg).val()),(parseInt(jQuery("#bwg_current_image_key_"+bwg).val())+iterator)%data.length,data,'',bwg)},bwg_params[bwg]['slideshow_interval']*1000);}else{window.clearInterval(bwg_param['bwg_playInterval']);bwg_param['bwg_playInterval']=setInterval(function(){if((jQuery(".bwg_play_pause").length&&jQuery(".bwg_play_pause").hasClass("fa-play"))){return;}
if(typeof data!='undefined'&&typeof data[(parseInt(jQuery('#bwg_current_image_key').val())+1)]=='undefined'){if(bwg_param['enable_loop']==1){bwg_change_image(parseInt(jQuery('#bwg_current_image_key').val()),0,data);}
return;}
bwg_change_image(parseInt(jQuery('#bwg_current_image_key').val()),parseInt(jQuery('#bwg_current_image_key').val())+1,data)},bwg_param['slideshow_interval']*1000);}};(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports!=='undefined'){module.exports=factory(require('jquery'));}else{factory(jQuery);}})(function($){'namespace sumo';$.fn.SumoSelect=function(options){var settings=$.extend({placeholder:'Select Here',csvDispCount:3,captionFormat:'{0} Selected',captionFormatAllSelected:'{0} all selected!',floatWidth:400,forceCustomRendering:false,nativeOnDevice:['Android','BlackBerry','iPhone','iPad','iPod','Opera Mini','IEMobile','Silk'],outputAsCSV:false,csvSepChar:',',okCancelInMulti:false,isClickAwayOk:false,triggerChangeCombined:true,selectAll:false,search:false,searchText:'Search...',noMatch:'No matches for "{0}"',prefix:'',locale:['OK','Cancel','Select All'],up:false,showTitle:true},options);var ret=this.each(function(){var selObj=this;if(this.sumo||!$(this).is('select'))return;this.sumo={E:$(selObj),is_multi:$(selObj).attr('multiple'),select:'',caption:'',placeholder:'',optDiv:'',CaptionCont:'',ul:'',is_floating:false,is_opened:false,mob:false,Pstate:[],createElems:function(){var O=this;O.E.wrap('<div class="SumoSelect" tabindex="0" role="button" aria-expanded="false">');O.select=O.E.parent();O.caption=$('<span>');O.CaptionCont=$('<p class="CaptionCont SelectBox" ><label><i></i></label></p>').attr('style',O.E.attr('style')).prepend(O.caption);O.select.append(O.CaptionCont);if(!O.is_multi)settings.okCancelInMulti=false
if(O.E.attr('disabled'))
O.select.addClass('disabled').removeAttr('tabindex');if(settings.outputAsCSV&&O.is_multi&&O.E.attr('name')){O.select.append($('<input class="HEMANT123" type="hidden" />').attr('name',O.E.attr('name')).val(O.getSelStr()));O.E.removeAttr('name');}
if(O.isMobile()&&!settings.forceCustomRendering){O.setNativeMobile();return;}
if(O.E.attr('name'))O.select.addClass('sumo_'+O.E.attr('name').replace(/\[\]/,''))
O.E.addClass('SumoUnder').attr('tabindex','-1');O.optDiv=$('<div class="optWrapper '+(settings.up?'up':'')+'">');O.floatingList();O.ul=$('<ul class="options">');O.optDiv.append(O.ul);if(settings.selectAll&&O.is_multi)O.SelAll();if(settings.search)O.Search();O.ul.append(O.prepItems(O.E.children()));if(O.is_multi)O.multiSelelect();O.select.append(O.optDiv);O.basicEvents();O.selAllState();},prepItems:function(opts,d){var lis=[],O=this;$(opts).each(function(i,opt){opt=$(opt);lis.push(opt.is('optgroup')?$('<li class="group '+(opt[0].disabled?'disabled':'')+'"><label>'+opt.attr('label')+'</label><ul></ul></li>').find('ul').append(O.prepItems(opt.children(),opt[0].disabled)).end():O.createLi(opt,d));});return lis;},createLi:function(opt,d){var O=this;if(!opt.attr('value'))opt.attr('value',opt.val());var li=$('<li class="opt"><label>'+opt.text()+'</label></li>');li.data('opt',opt);opt.data('li',li);if(O.is_multi)li.prepend('<span><i></i></span>');if(opt[0].disabled||d)
li=li.addClass('disabled');O.onOptClick(li);if(opt[0].selected)
li.addClass('selected');if(opt.attr('class'))
li.addClass(opt.attr('class'));if(opt.attr('title'))
li.attr('title',opt.attr('title'));return li;},getSelStr:function(){sopt=[];this.E.find('option:selected').each(function(){sopt.push($(this).val());});return sopt.join(settings.csvSepChar);},multiSelelect:function(){var O=this;O.optDiv.addClass('multiple');O.okbtn=$('<p tabindex="0" class="btnOk">'+settings.locale[0]+'</p>').click(function(){O._okbtn();O.hideOpts();});O.cancelBtn=$('<p tabindex="0" class="btnCancel">'+settings.locale[1]+'</p>').click(function(){O._cnbtn();O.hideOpts();});var btns=O.okbtn.add(O.cancelBtn);O.optDiv.append($('<div class="MultiControls">').append(btns));btns.on('keydown.sumo',function(e){var el=$(this);switch(e.which){case 32:case 13:el.trigger('click');break;case 9:if(el.hasClass('btnOk'))return;case 27:O._cnbtn();O.hideOpts();return;}
e.stopPropagation();e.preventDefault();});},_okbtn:function(){var O=this,cg=0;if(settings.triggerChangeCombined){if(O.E.find('option:selected').length!=O.Pstate.length){cg=1;}
else{O.E.find('option').each(function(i,e){if(e.selected&&O.Pstate.indexOf(i)<0)cg=1;});}
if(cg){O.callChange();O.setText();}}},_cnbtn:function(){var O=this;O.E.find('option:selected').each(function(){this.selected=false;});O.optDiv.find('li.selected').removeClass('selected')
for(var i=0;i<O.Pstate.length;i++){O.E.find('option')[O.Pstate[i]].selected=true;O.ul.find('li.opt').eq(O.Pstate[i]).addClass('selected');}
O.selAllState();},SelAll:function(){var O=this;if(!O.is_multi)return;O.selAll=$('<p class="select-all"><span><i></i></span><label>'+settings.locale[2]+'</label></p>');O.optDiv.addClass('selall');O.selAll.on('click',function(){O.selAll.toggleClass('selected');O.toggSelAll(O.selAll.hasClass('selected'),1);});O.optDiv.prepend(O.selAll);},Search:function(){var O=this,cc=O.CaptionCont.addClass('search'),P=$('<p class="no-match">');O.ftxt=$('<input type="text" class="search-txt" value="" placeholder="'+settings.searchText+'">').on('click',function(e){e.stopPropagation();});cc.append(O.ftxt);O.optDiv.children('ul').after(P);O.ftxt.on('keyup.sumo',function(){var hid=O.optDiv.find('ul.options li.opt').each(function(ix,e){var e=$(e),opt=e.data('opt')[0];opt.hidden=e.text().toLowerCase().indexOf(O.ftxt.val().toLowerCase())<0;e.toggleClass('hidden',opt.hidden);}).not('.hidden');P.html(settings.noMatch.replace(/\{0\}/g,'<em></em>')).toggle(!hid.length);P.find('em').text(O.ftxt.val());O.selAllState();});},selAllState:function(){var O=this;if(settings.selectAll&&O.is_multi){var sc=0,vc=0;O.optDiv.find('li.opt').not('.hidden').each(function(ix,e){if($(e).hasClass('selected'))sc++;if(!$(e).hasClass('disabled'))vc++;});if(sc==vc)O.selAll.removeClass('partial').addClass('selected');else if(sc==0)O.selAll.removeClass('selected partial');else O.selAll.addClass('partial')}},showOpts:function(){var O=this;if(O.E.attr('disabled'))return;O.E.trigger('sumo:opening',O);O.is_opened=true;O.select.addClass('open').attr('aria-expanded','true');O.E.trigger('sumo:opened',O);if(O.ftxt)O.ftxt.focus();else O.select.focus();$(document).on('click.sumo',function(e){if(!O.select.is(e.target)&&O.select.has(e.target).length===0){if(!O.is_opened)return;O.hideOpts();if(settings.okCancelInMulti){if(settings.isClickAwayOk)
O._okbtn();else
O._cnbtn();}}});if(O.is_floating){H=O.optDiv.children('ul').outerHeight()+2;if(O.is_multi)H=H+parseInt(O.optDiv.css('padding-bottom'));O.optDiv.css('height',H);$('body').addClass('sumoStopScroll');}
O.setPstate();},setPstate:function(){var O=this;if(O.is_multi&&(O.is_floating||settings.okCancelInMulti)){O.Pstate=[];O.E.find('option').each(function(i,e){if(e.selected)O.Pstate.push(i);});}},callChange:function(){this.E.trigger('change').trigger('click');},hideOpts:function(){var O=this;if(O.is_opened){O.E.trigger('sumo:closing',O);O.is_opened=false;O.select.removeClass('open').attr('aria-expanded','true').find('ul li.sel').removeClass('sel');O.E.trigger('sumo:closed',O);$(document).off('click.sumo');O.select.focus();$('body').removeClass('sumoStopScroll');if(settings.search){O.ftxt.val('');O.ftxt.trigger('keyup.sumo');}}},setOnOpen:function(){var O=this,li=O.optDiv.find('li.opt:not(.hidden)').eq(settings.search?0:O.E[0].selectedIndex);if(li.hasClass('disabled')){li=li.next(':not(disabled)')
if(!li.length)return;}
O.optDiv.find('li.sel').removeClass('sel');li.addClass('sel');O.showOpts();},nav:function(up){var O=this,c,s=O.ul.find('li.opt:not(.disabled, .hidden)'),sel=O.ul.find('li.opt.sel:not(.hidden)'),idx=s.index(sel);if(O.is_opened&&sel.length){if(up&&idx>0)
c=s.eq(idx-1);else if(!up&&idx<s.length-1&&idx>-1)
c=s.eq(idx+1);else return;sel.removeClass('sel');sel=c.addClass('sel');var ul=O.ul,st=ul.scrollTop(),t=sel.position().top+st;if(t>=st+ul.height()-sel.outerHeight())
ul.scrollTop(t-ul.height()+sel.outerHeight());if(t<st)
ul.scrollTop(t);}
else
O.setOnOpen();},basicEvents:function(){var O=this;O.CaptionCont.click(function(evt){O.E.trigger('click');if(O.is_opened)O.hideOpts();else O.showOpts();evt.stopPropagation();});O.select.on('keydown.sumo',function(e){switch(e.which){case 38:O.nav(true);break;case 40:O.nav(false);break;case 65:if(O.is_multi&&e.ctrlKey){O.toggSelAll(!e.shiftKey,1);break;}
else
return;case 32:if(settings.search&&O.ftxt.is(e.target))return;case 13:if(O.is_opened)
O.optDiv.find('ul li.sel').trigger('click');else
O.setOnOpen();break;case 9:if(!settings.okCancelInMulti)
O.hideOpts();return;case 27:if(settings.okCancelInMulti)O._cnbtn();O.hideOpts();return;default:return;}
e.preventDefault();});$(window).on('resize.sumo',function(){O.floatingList();});},onOptClick:function(li){var O=this;li.click(function(){var li=$(this);if(li.hasClass('disabled'))return;var txt="";if(O.is_multi){li.toggleClass('selected');li.data('opt')[0].selected=li.hasClass('selected');O.selAllState();}
else{li.parent().find('li.selected').removeClass('selected');li.toggleClass('selected');li.data('opt')[0].selected=true;}
if(!(O.is_multi&&settings.triggerChangeCombined&&(O.is_floating||settings.okCancelInMulti))){O.setText();O.callChange();}
if(!O.is_multi)O.hideOpts();});},setText:function(){var O=this;O.placeholder="";if(O.is_multi){sels=O.E.find(':selected').not(':disabled');for(i=0;i<sels.length;i++){if(i+1>=settings.csvDispCount&&settings.csvDispCount){if(sels.length==O.E.find('option').length&&settings.captionFormatAllSelected){O.placeholder=settings.captionFormatAllSelected.replace(/\{0\}/g,sels.length)+',';}else{O.placeholder=settings.captionFormat.replace(/\{0\}/g,sels.length)+',';}
break;}
else O.placeholder+=$(sels[i]).text()+", ";}
O.placeholder=O.placeholder.replace(/,([^,]*)$/,'$1');}
else{O.placeholder=O.E.find(':selected').not(':disabled').text();}
var is_placeholder=false;if(!O.placeholder){is_placeholder=true;O.placeholder=O.E.attr('placeholder');if(!O.placeholder)
O.placeholder=O.E.find('option:disabled:selected').text();}
O.placeholder=O.placeholder?(settings.prefix+' '+O.placeholder):settings.placeholder
O.caption.html(O.placeholder);if(settings.showTitle)O.CaptionCont.attr('title',O.placeholder);var csvField=O.select.find('input.HEMANT123');if(csvField.length)csvField.val(O.getSelStr());if(is_placeholder)O.caption.addClass('placeholder');else O.caption.removeClass('placeholder');return O.placeholder;},isMobile:function(){var ua=navigator.userAgent||navigator.vendor||window.opera;for(var i=0;i<settings.nativeOnDevice.length;i++)if(ua.toString().toLowerCase().indexOf(settings.nativeOnDevice[i].toLowerCase())>0)return settings.nativeOnDevice[i];return false;},setNativeMobile:function(){var O=this;O.E.addClass('SelectClass');O.mob=true;O.E.change(function(){O.setText();});},floatingList:function(){var O=this;O.is_floating=$(window).width()<=settings.floatWidth;O.optDiv.toggleClass('isFloating',O.is_floating);if(!O.is_floating)O.optDiv.css('height','');O.optDiv.toggleClass('okCancelInMulti',settings.okCancelInMulti&&!O.is_floating);},vRange:function(i){var O=this;var opts=O.E.find('option');if(opts.length<=i||i<0)throw "index out of bounds"
return O;},toggSel:function(c,i){var O=this;var opt;if(typeof(i)==="number"){O.vRange(i);opt=O.E.find('option')[i];}
else{opt=O.E.find('option[value="'+i+'"]')[0]||0;}
if(!opt||opt.disabled)
return;if(opt.selected!=c){opt.selected=c;if(!O.mob)$(opt).data('li').toggleClass('selected',c);O.callChange();O.setPstate();O.setText();O.selAllState();}},toggDis:function(c,i){var O=this.vRange(i);O.E.find('option')[i].disabled=c;if(c)O.E.find('option')[i].selected=false;if(!O.mob)O.optDiv.find('ul.options li').eq(i).toggleClass('disabled',c).removeClass('selected');O.setText();},toggSumo:function(val){var O=this;O.enabled=val;O.select.toggleClass('disabled',val);if(val){O.E.attr('disabled','disabled');O.select.removeAttr('tabindex');}
else{O.E.removeAttr('disabled');O.select.attr('tabindex','0');}
return O;},toggSelAll:function(c,direct){var O=this;O.E.find('option:not(:disabled,:hidden)').each(function(ix,e){var is_selected=e.selected,e=$(e).data('li');if(e.hasClass('hidden'))return;if(!!c){if(!is_selected)e.trigger('click');}
else{if(is_selected)e.trigger('click');}});if(!direct){if(!O.mob&&O.selAll)O.selAll.removeClass('partial').toggleClass('selected',!!c);O.callChange();O.setText();O.setPstate();}},reload:function(){var elm=this.unload();return $(elm).SumoSelect(settings);},unload:function(){var O=this;O.select.before(O.E);O.E.show();if(settings.outputAsCSV&&O.is_multi&&O.select.find('input.HEMANT123').length){O.E.attr('name',O.select.find('input.HEMANT123').attr('name'));}
O.select.remove();delete selObj.sumo;return selObj;},add:function(val,txt,i){if(typeof val=="undefined")throw "No value to add"
var O=this;opts=O.E.find('option')
if(typeof txt=="number"){i=txt;txt=val;}
if(typeof txt=="undefined"){txt=val;}
opt=$("<option></option>").val(val).html(txt);if(opts.length<i)throw "index out of bounds"
if(typeof i=="undefined"||opts.length==i){O.E.append(opt);if(!O.mob)O.ul.append(O.createLi(opt));}
else{opts.eq(i).before(opt);if(!O.mob)O.ul.find('li.opt').eq(i).before(O.createLi(opt));}
return selObj;},remove:function(i){var O=this.vRange(i);O.E.find('option').eq(i).remove();if(!O.mob)O.optDiv.find('ul.options li').eq(i).remove();O.setText();},selectItem:function(i){this.toggSel(true,i);},unSelectItem:function(i){this.toggSel(false,i);},selectAll:function(){this.toggSelAll(true);},unSelectAll:function(){this.toggSelAll(false);},disableItem:function(i){this.toggDis(true,i)},enableItem:function(i){this.toggDis(false,i)},enabled:true,enable:function(){return this.toggSumo(false)},disable:function(){return this.toggSumo(true)},init:function(){var O=this;O.createElems();O.setText();return O}};selObj.sumo.init();});return ret.length==1?ret[0]:ret;};});;/*!jQuery Mobile v1.3.2 | Copyright 2010, 2013 jQuery Foundation, Inc. | jquery.org/license*/(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(e,t,n,r){function x(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function T(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=x(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++)l=u[d],t[l]=h[l]}return t}function N(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function C(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function k(){g=!1}function L(){g=!0}function A(){E=0,v.length=0,m=!1,L()}function O(){k()}function M(){_(),c=setTimeout(function(){c=0,A()},e.vmouse.resetTimerDuration)}function _(){c&&(clearTimeout(c),c=0)}function D(t,n,r){var i;if(r&&r[t]||!r&&C(n.target,t))i=T(n,t),e(n.target).trigger(i);return i}function P(t){var n=e.data(t.target,s);if(!m&&(!E||E!==n)){var r=D("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function H(t){var n=x(t).touches,r,i;if(n&&n.length===1){r=t.target,i=N(r);if(i.hasVirtualBinding){E=w++,e.data(r,s,E),_(),O(),d=!1;var o=x(t).touches[0];h=o.pageX,p=o.pageY,D("vmouseover",t,i),D("vmousedown",t,i)}}}function B(e){if(g)return;d||D("vmousecancel",e,N(e.target)),d=!0,M()}function j(t){if(g)return;var n=x(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=N(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&D("vmousecancel",t,s),D("vmousemove",t,s),M()}function F(e){if(g)return;L();var t=N(e.target),n;D("vmouseup",e,t);if(!d){var r=D("vclick",e,t);r&&r.isDefaultPrevented()&&(n=x(e).changedTouches[0],v.push({touchID:E,x:n.clientX,y:n.clientY}),m=!0)}D("vmouseout",e,t),d=!1,M()}function I(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function q(){}function R(t){var n=t.substr(1);return{setup:function(r,s){I(this)||e.data(this,i,{});var o=e.data(this,i);o[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,P),e(this).bind(n,q),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",H).bind("touchend",F).bind("touchmove",j).bind("scroll",B))},teardown:function(r,s){--l[t],l[t]||b.unbind(n,P),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",H).unbind("touchmove",j).unbind("touchend",F).unbind("scroll",B));var o=e(this),u=e.data(this,i);u&&(u[t]=!1),o.unbind(n,q),I(this)||o.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var U=0;U<o.length;U++)e.event.special[o[U]]=R(o[U]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)})(e,t,n),function(e){e.mobile={}}(e),function(e,t){var r={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,t,r){function l(t,n,r){var i=r.type;r.type=n,e.event.dispatch.call(t,r),r.type=i}var i=e(n);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var s=e.mobile.support.touch,o="touchmove scroll",u=s?"touchstart":"mousedown",a=s?"touchend":"mouseup",f=s?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function s(e,n){r=n,l(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(o,function(t){if(!e.event.special.scrollstart.enabled)return;r||s(t,!0),clearTimeout(i),i=setTimeout(function(){s(t,!1)},50)})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,n=e(t);n.bind("vmousedown",function(r){function a(){clearTimeout(u)}function f(){a(),n.unbind("vclick",c).unbind("vmouseup",a),i.unbind("vmousecancel",f)}function c(e){f(),s===e.target&&l(t,"tap",e)}if(r.which&&r.which!==1)return!1;var s=r.target,o=r.originalEvent,u;n.bind("vmouseup",a).bind("vclick",c),i.bind("vmousecancel",f),u=setTimeout(function(){l(t,"taphold",e.Event("taphold",{target:s}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1000,horizontalDistanceThreshold:10,verticalDistanceThreshold:475,start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,n){n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>n.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,n=e(t);n.bind(u,function(t){function o(t){if(!i)return;s=e.event.special.swipe.stop(t),Math.abs(i.coords[0]-s.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}var i=e.event.special.swipe.start(t),s;n.bind(f,o).one(a,function(){n.unbind(f,o),i&&s&&e.event.special.swipe.handleSwipe(i,s),i=s=r})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(e,this)});;(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);(function(c){var b={init:function(e){var f={set_width:false,set_height:false,horizontalScroll:false,scrollInertia:950,mouseWheel:true,mouseWheelPixels:"auto",autoDraggerLength:true,autoHideScrollbar:false,snapAmount:null,snapOffset:0,scrollButtons:{enable:false,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:true,updateOnContentResize:false,autoExpandHorizontalScroll:false,autoScrollOnFocus:true,normalizeMouseWheelDelta:false},contentTouchScroll:true,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},e=c.extend(true,f,e);return this.each(function(){var m=c(this);if(e.set_width){m.css("width",e.set_width)}if(e.set_height){m.css("height",e.set_height)}if(!c(document).data("mCustomScrollbar-index")){c(document).data("mCustomScrollbar-index","1")}else{var t=parseInt(c(document).data("mCustomScrollbar-index"));c(document).data("mCustomScrollbar-index",t+1)}m.wrapInner("<div class='mCustomScrollBox mCS-"+e.theme+"' id='mCSB_"+c(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+c(document).data("mCustomScrollbar-index"));var g=m.children(".mCustomScrollBox");if(e.horizontalScroll){g.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var k=g.children(".mCSB_h_wrapper");k.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:k.children().outerWidth(),position:"relative"}).unwrap()}else{g.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />")}var o=g.children(".mCSB_container");if(c.support.touch){o.addClass("mCS_touch")}o.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var l=g.children(".mCSB_scrollTools"),h=l.children(".mCSB_draggerContainer"),q=h.children(".mCSB_dragger");if(e.horizontalScroll){q.data("minDraggerWidth",q.width())}else{q.data("minDraggerHeight",q.height())}if(e.scrollButtons.enable){if(e.horizontalScroll){l.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>")}else{l.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")}}g.bind("scroll",function(){if(!m.is(".mCS_disabled")){g.scrollTop(0).scrollLeft(0)}});m.data({mCS_Init:true,mCustomScrollbarIndex:c(document).data("mCustomScrollbar-index"),horizontalScroll:e.horizontalScroll,scrollInertia:e.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:e.mouseWheel,mouseWheelPixels:e.mouseWheelPixels,autoDraggerLength:e.autoDraggerLength,autoHideScrollbar:e.autoHideScrollbar,snapAmount:e.snapAmount,snapOffset:e.snapOffset,scrollButtons_enable:e.scrollButtons.enable,scrollButtons_scrollType:e.scrollButtons.scrollType,scrollButtons_scrollSpeed:e.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:e.scrollButtons.scrollAmount,autoExpandHorizontalScroll:e.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:e.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:e.advanced.normalizeMouseWheelDelta,contentTouchScroll:e.contentTouchScroll,onScrollStart_Callback:e.callbacks.onScrollStart,onScroll_Callback:e.callbacks.onScroll,onTotalScroll_Callback:e.callbacks.onTotalScroll,onTotalScrollBack_Callback:e.callbacks.onTotalScrollBack,onTotalScroll_Offset:e.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:e.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:e.callbacks.whileScrolling,bindEvent_scrollbar_drag:false,bindEvent_content_touch:false,bindEvent_scrollbar_click:false,bindEvent_mousewheel:false,bindEvent_buttonsContinuous_y:false,bindEvent_buttonsContinuous_x:false,bindEvent_buttonsPixels_y:false,bindEvent_buttonsPixels_x:false,bindEvent_focusin:false,bindEvent_autoHideScrollbar:false,mCSB_buttonScrollRight:false,mCSB_buttonScrollLeft:false,mCSB_buttonScrollDown:false,mCSB_buttonScrollUp:false});if(e.horizontalScroll){if(m.css("max-width")!=="none"){if(!e.advanced.updateOnContentResize){e.advanced.updateOnContentResize=true}}}else{if(m.css("max-height")!=="none"){var s=false,r=parseInt(m.css("max-height"));if(m.css("max-height").indexOf("%")>=0){s=r,r=m.parent().height()*s/100}m.css("overflow","hidden");g.css("max-height",r)}}m.mCustomScrollbar("update");if(e.advanced.updateOnBrowserResize){var i,j=c(window).width(),u=c(window).height();c(window).bind("resize."+m.data("mCustomScrollbarIndex"),function(){if(i){clearTimeout(i)}i=setTimeout(function(){if(!m.is(".mCS_disabled")&&!m.is(".mCS_destroyed")){var w=c(window).width(),v=c(window).height();if(j!==w||u!==v){if(m.css("max-height")!=="none"&&s){g.css("max-height",m.parent().height()*s/100)}m.mCustomScrollbar("update");j=w;u=v}}},150)})}if(e.advanced.updateOnContentResize){var p;if(e.horizontalScroll){var n=o.outerWidth()}else{var n=o.outerHeight()}p=setInterval(function(){if(e.horizontalScroll){if(e.advanced.autoExpandHorizontalScroll){o.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:o.outerWidth(),position:"relative"}).unwrap()}var v=o.outerWidth()}else{var v=o.outerHeight()}if(v!=n){m.mCustomScrollbar("update");n=v}},300)}})},update:function(){var n=c(this),k=n.children(".mCustomScrollBox"),q=k.children(".mCSB_container");q.removeClass("mCS_no_scrollbar");n.removeClass("mCS_disabled mCS_destroyed");k.scrollTop(0).scrollLeft(0);var y=k.children(".mCSB_scrollTools"),o=y.children(".mCSB_draggerContainer"),m=o.children(".mCSB_dragger");if(n.data("horizontalScroll")){var A=y.children(".mCSB_buttonLeft"),t=y.children(".mCSB_buttonRight"),f=k.width();if(n.data("autoExpandHorizontalScroll")){q.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:q.outerWidth(),position:"relative"}).unwrap()}var z=q.outerWidth()}else{var w=y.children(".mCSB_buttonUp"),g=y.children(".mCSB_buttonDown"),r=k.height(),i=q.outerHeight()}if(i>r&&!n.data("horizontalScroll")){y.css("display","block");var s=o.height();if(n.data("autoDraggerLength")){var u=Math.round(r/i*s),l=m.data("minDraggerHeight");if(u<=l){m.css({height:l})}else{if(u>=s-10){var p=s-10;m.css({height:p})}else{m.css({height:u})}}m.children(".mCSB_dragger_bar").css({"line-height":m.height()+"px"})}var B=m.height(),x=(i-r)/(s-B);n.data("scrollAmount",x).mCustomScrollbar("scrolling",k,q,o,m,w,g,A,t);var D=Math.abs(q.position().top);n.mCustomScrollbar("scrollTo",D,{scrollInertia:0,trigger:"internal"})}else{if(z>f&&n.data("horizontalScroll")){y.css("display","block");var h=o.width();if(n.data("autoDraggerLength")){var j=Math.round(f/z*h),C=m.data("minDraggerWidth");if(j<=C){m.css({width:C})}else{if(j>=h-10){var e=h-10;m.css({width:e})}else{m.css({width:j})}}}var v=m.width(),x=(z-f)/(h-v);n.data("scrollAmount",x).mCustomScrollbar("scrolling",k,q,o,m,w,g,A,t);var D=Math.abs(q.position().left);n.mCustomScrollbar("scrollTo",D,{scrollInertia:0,trigger:"internal"})}else{k.unbind("mousewheel focusin");if(n.data("horizontalScroll")){m.add(q).css("left",0)}else{m.add(q).css("top",0)}y.css("display","none");q.addClass("mCS_no_scrollbar");n.data({bindEvent_mousewheel:false,bindEvent_focusin:false})}}},scrolling:function(h,p,m,j,w,e,A,v){var k=c(this);if(!k.data("bindEvent_scrollbar_drag")){var n,o;if(c.support.msPointer){j.bind("MSPointerDown",function(H){H.preventDefault();k.data({on_drag:true});j.addClass("mCSB_dragger_onDrag");var G=c(this),J=G.offset(),F=H.originalEvent.pageX-J.left,I=H.originalEvent.pageY-J.top;if(F<G.width()&&F>0&&I<G.height()&&I>0){n=I;o=F}});c(document).bind("MSPointerMove."+k.data("mCustomScrollbarIndex"),function(H){H.preventDefault();if(k.data("on_drag")){var G=j,J=G.offset(),F=H.originalEvent.pageX-J.left,I=H.originalEvent.pageY-J.top;D(n,o,I,F)}}).bind("MSPointerUp."+k.data("mCustomScrollbarIndex"),function(x){k.data({on_drag:false});j.removeClass("mCSB_dragger_onDrag")})}else{j.bind("mousedown touchstart",function(H){H.preventDefault();H.stopImmediatePropagation();var G=c(this),K=G.offset(),F,J;if(H.type==="touchstart"){var I=H.originalEvent.touches[0]||H.originalEvent.changedTouches[0];F=I.pageX-K.left;J=I.pageY-K.top}else{k.data({on_drag:true});j.addClass("mCSB_dragger_onDrag");F=H.pageX-K.left;J=H.pageY-K.top}if(F<G.width()&&F>0&&J<G.height()&&J>0){n=J;o=F}}).bind("touchmove",function(H){H.preventDefault();H.stopImmediatePropagation();var K=H.originalEvent.touches[0]||H.originalEvent.changedTouches[0],G=c(this),J=G.offset(),F=K.pageX-J.left,I=K.pageY-J.top;D(n,o,I,F)});c(document).bind("mousemove."+k.data("mCustomScrollbarIndex"),function(H){if(k.data("on_drag")){var G=j,J=G.offset(),F=H.pageX-J.left,I=H.pageY-J.top;D(n,o,I,F)}}).bind("mouseup."+k.data("mCustomScrollbarIndex"),function(x){k.data({on_drag:false});j.removeClass("mCSB_dragger_onDrag")})}k.data({bindEvent_scrollbar_drag:true})}function D(G,H,I,F){if(k.data("horizontalScroll")){k.mCustomScrollbar("scrollTo",(j.position().left-(H))+F,{moveDragger:true,trigger:"internal"})}else{k.mCustomScrollbar("scrollTo",(j.position().top-(G))+I,{moveDragger:true,trigger:"internal"})}}if(c.support.touch&&k.data("contentTouchScroll")){if(!k.data("bindEvent_content_touch")){var l,B,r,s,u,C,E;p.bind("touchstart",function(x){x.stopImmediatePropagation();l=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0];B=c(this);r=B.offset();u=l.pageX-r.left;s=l.pageY-r.top;C=s;E=u});p.bind("touchmove",function(x){x.preventDefault();x.stopImmediatePropagation();l=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0];B=c(this).parent();r=B.offset();u=l.pageX-r.left;s=l.pageY-r.top;if(k.data("horizontalScroll")){k.mCustomScrollbar("scrollTo",E-u,{trigger:"internal"})}else{k.mCustomScrollbar("scrollTo",C-s,{trigger:"internal"})}})}}if(!k.data("bindEvent_scrollbar_click")){m.bind("click",function(F){var x=(F.pageY-m.offset().top)*k.data("scrollAmount"),y=c(F.target);if(k.data("horizontalScroll")){x=(F.pageX-m.offset().left)*k.data("scrollAmount")}if(y.hasClass("mCSB_draggerContainer")||y.hasClass("mCSB_draggerRail")){k.mCustomScrollbar("scrollTo",x,{trigger:"internal",scrollEasing:"draggerRailEase"})}});k.data({bindEvent_scrollbar_click:true})}if(k.data("mouseWheel")){if(!k.data("bindEvent_mousewheel")){h.bind("mousewheel",function(H,J){var G,F=k.data("mouseWheelPixels"),x=Math.abs(p.position().top),I=j.position().top,y=m.height()-j.height();if(k.data("normalizeMouseWheelDelta")){if(J<0){J=-1}else{J=1}}if(F==="auto"){F=100+Math.round(k.data("scrollAmount")/2)}if(k.data("horizontalScroll")){I=j.position().left;y=m.width()-j.width();x=Math.abs(p.position().left)}if((J>0&&I!==0)||(J<0&&I!==y)){H.preventDefault();H.stopImmediatePropagation()}G=x-(J*F);k.mCustomScrollbar("scrollTo",G,{trigger:"internal"})});k.data({bindEvent_mousewheel:true})}}if(k.data("scrollButtons_enable")){if(k.data("scrollButtons_scrollType")==="pixels"){if(k.data("horizontalScroll")){v.add(A).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",i,g);k.data({bindEvent_buttonsContinuous_x:false});if(!k.data("bindEvent_buttonsPixels_x")){v.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().left)+k.data("scrollButtons_scrollAmount"))});A.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().left)-k.data("scrollButtons_scrollAmount"))});k.data({bindEvent_buttonsPixels_x:true})}}else{e.add(w).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",i,g);k.data({bindEvent_buttonsContinuous_y:false});if(!k.data("bindEvent_buttonsPixels_y")){e.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().top)+k.data("scrollButtons_scrollAmount"))});w.bind("click",function(x){x.preventDefault();q(Math.abs(p.position().top)-k.data("scrollButtons_scrollAmount"))});k.data({bindEvent_buttonsPixels_y:true})}}function q(x){if(!j.data("preventAction")){j.data("preventAction",true);k.mCustomScrollbar("scrollTo",x,{trigger:"internal"})}}}else{if(k.data("horizontalScroll")){v.add(A).unbind("click");k.data({bindEvent_buttonsPixels_x:false});if(!k.data("bindEvent_buttonsContinuous_x")){v.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollRight:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().left)+x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var i=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollRight"))};v.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",i);A.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollLeft:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().left)-x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var g=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollLeft"))};A.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",g);k.data({bindEvent_buttonsContinuous_x:true})}}else{e.add(w).unbind("click");k.data({bindEvent_buttonsPixels_y:false});if(!k.data("bindEvent_buttonsContinuous_y")){e.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollDown:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().top)+x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var t=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollDown"))};e.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",t);w.bind("mousedown touchstart MSPointerDown",function(y){y.preventDefault();var x=z();k.data({mCSB_buttonScrollUp:setInterval(function(){k.mCustomScrollbar("scrollTo",Math.abs(p.position().top)-x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var f=function(x){x.preventDefault();clearInterval(k.data("mCSB_buttonScrollUp"))};w.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",f);k.data({bindEvent_buttonsContinuous_y:true})}}function z(){var x=k.data("scrollButtons_scrollSpeed");if(k.data("scrollButtons_scrollSpeed")==="auto"){x=Math.round((k.data("scrollInertia")+100)/40)}return x}}}if(k.data("autoScrollOnFocus")){if(!k.data("bindEvent_focusin")){h.bind("focusin",function(){h.scrollTop(0).scrollLeft(0);var x=c(document.activeElement);if(x.is("input,textarea,select,button,a[tabindex],area,object")){var G=p.position().top,y=x.position().top,F=h.height()-x.outerHeight();if(k.data("horizontalScroll")){G=p.position().left;y=x.position().left;F=h.width()-x.outerWidth()}if(G+y<0||G+y>F){k.mCustomScrollbar("scrollTo",y,{trigger:"internal"})}}});k.data({bindEvent_focusin:true})}}if(k.data("autoHideScrollbar")){if(!k.data("bindEvent_autoHideScrollbar")){h.bind("mouseenter",function(x){h.addClass("mCS-mouse-over");d.showScrollbar.call(h.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(x){h.removeClass("mCS-mouse-over");if(x.type==="mouseleave"){d.hideScrollbar.call(h.children(".mCSB_scrollTools"))}});k.data({bindEvent_autoHideScrollbar:true})}}},scrollTo:function(e,f){var i=c(this),o={moveDragger:false,trigger:"external",callbacks:true,scrollInertia:i.data("scrollInertia"),scrollEasing:i.data("scrollEasing")},f=c.extend(o,f),p,g=i.children(".mCustomScrollBox"),k=g.children(".mCSB_container"),r=g.children(".mCSB_scrollTools"),j=r.children(".mCSB_draggerContainer"),h=j.children(".mCSB_dragger"),t=draggerSpeed=f.scrollInertia,q,s,m,l;if(!k.hasClass("mCS_no_scrollbar")){i.data({mCS_trigger:f.trigger});if(i.data("mCS_Init")){f.callbacks=false}if(e||e===0){if(typeof(e)==="number"){if(f.moveDragger){p=e;if(i.data("horizontalScroll")){e=h.position().left*i.data("scrollAmount")}else{e=h.position().top*i.data("scrollAmount")}draggerSpeed=0}else{p=e/i.data("scrollAmount")}}else{if(typeof(e)==="string"){var v;if(e==="top"){v=0}else{if(e==="bottom"&&!i.data("horizontalScroll")){v=k.outerHeight()-g.height()}else{if(e==="left"){v=0}else{if(e==="right"&&i.data("horizontalScroll")){v=k.outerWidth()-g.width()}else{if(e==="first"){v=i.find(".mCSB_container").find(":first")}else{if(e==="last"){v=i.find(".mCSB_container").find(":last")}else{v=i.find(e)}}}}}}if(v.length===1){if(i.data("horizontalScroll")){e=v.position().left}else{e=v.position().top}p=e/i.data("scrollAmount")}else{p=e=v}}}if(i.data("horizontalScroll")){if(i.data("onTotalScrollBack_Offset")){s=-i.data("onTotalScrollBack_Offset")}if(i.data("onTotalScroll_Offset")){l=g.width()-k.outerWidth()+i.data("onTotalScroll_Offset")}if(p<0){p=e=0;clearInterval(i.data("mCSB_buttonScrollLeft"));if(!s){q=true}}else{if(p>=j.width()-h.width()){p=j.width()-h.width();e=g.width()-k.outerWidth();clearInterval(i.data("mCSB_buttonScrollRight"));if(!l){m=true}}else{e=-e}}var n=i.data("snapAmount");if(n){e=Math.round(e/n)*n-i.data("snapOffset")}d.mTweenAxis.call(this,h[0],"left",Math.round(p),draggerSpeed,f.scrollEasing);d.mTweenAxis.call(this,k[0],"left",Math.round(e),t,f.scrollEasing,{onStart:function(){if(f.callbacks&&!i.data("mCS_tweenRunning")){u("onScrollStart")}if(i.data("autoHideScrollbar")){d.showScrollbar.call(r)}},onUpdate:function(){if(f.callbacks){u("whileScrolling")}},onComplete:function(){if(f.callbacks){u("onScroll");if(q||(s&&k.position().left>=s)){u("onTotalScrollBack")}if(m||(l&&k.position().left<=l)){u("onTotalScroll")}}h.data("preventAction",false);i.data("mCS_tweenRunning",false);if(i.data("autoHideScrollbar")){if(!g.hasClass("mCS-mouse-over")){d.hideScrollbar.call(r)}}}})}else{if(i.data("onTotalScrollBack_Offset")){s=-i.data("onTotalScrollBack_Offset")}if(i.data("onTotalScroll_Offset")){l=g.height()-k.outerHeight()+i.data("onTotalScroll_Offset")}if(p<0){p=e=0;clearInterval(i.data("mCSB_buttonScrollUp"));if(!s){q=true}}else{if(p>=j.height()-h.height()){p=j.height()-h.height();e=g.height()-k.outerHeight();clearInterval(i.data("mCSB_buttonScrollDown"));if(!l){m=true}}else{e=-e}}var n=i.data("snapAmount");if(n){e=Math.round(e/n)*n-i.data("snapOffset")}d.mTweenAxis.call(this,h[0],"top",Math.round(p),draggerSpeed,f.scrollEasing);d.mTweenAxis.call(this,k[0],"top",Math.round(e),t,f.scrollEasing,{onStart:function(){if(f.callbacks&&!i.data("mCS_tweenRunning")){u("onScrollStart")}if(i.data("autoHideScrollbar")){d.showScrollbar.call(r)}},onUpdate:function(){if(f.callbacks){u("whileScrolling")}},onComplete:function(){if(f.callbacks){u("onScroll");if(q||(s&&k.position().top>=s)){u("onTotalScrollBack")}if(m||(l&&k.position().top<=l)){u("onTotalScroll")}}h.data("preventAction",false);i.data("mCS_tweenRunning",false);if(i.data("autoHideScrollbar")){if(!g.hasClass("mCS-mouse-over")){d.hideScrollbar.call(r)}}}})}if(i.data("mCS_Init")){i.data({mCS_Init:false})}}}function u(w){this.mcs={top:k.position().top,left:k.position().left,draggerTop:h.position().top,draggerLeft:h.position().left,topPct:Math.round((100*Math.abs(k.position().top))/Math.abs(k.outerHeight()-g.height())),leftPct:Math.round((100*Math.abs(k.position().left))/Math.abs(k.outerWidth()-g.width()))};switch(w){case"onScrollStart":i.data("mCS_tweenRunning",true).data("onScrollStart_Callback").call(i,this.mcs);break;case"whileScrolling":i.data("whileScrolling_Callback").call(i,this.mcs);break;case"onScroll":i.data("onScroll_Callback").call(i,this.mcs);break;case"onTotalScrollBack":i.data("onTotalScrollBack_Callback").call(i,this.mcs);break;case"onTotalScroll":i.data("onTotalScroll_Callback").call(i,this.mcs);break}}},stop:function(){var g=c(this),e=g.children().children(".mCSB_container"),f=g.children().children().children().children(".mCSB_dragger");d.mTweenAxisStop.call(this,e[0]);d.mTweenAxisStop.call(this,f[0])},disable:function(e){var j=c(this),f=j.children(".mCustomScrollBox"),h=f.children(".mCSB_container"),g=f.children(".mCSB_scrollTools"),i=g.children().children(".mCSB_dragger");f.unbind("mousewheel focusin mouseenter mouseleave touchend");h.unbind("touchstart touchmove");if(e){if(j.data("horizontalScroll")){i.add(h).css("left",0)}else{i.add(h).css("top",0)}}g.css("display","none");h.addClass("mCS_no_scrollbar");j.data({bindEvent_mousewheel:false,bindEvent_focusin:false,bindEvent_content_touch:false,bindEvent_autoHideScrollbar:false}).addClass("mCS_disabled")},destroy:function(){var e=c(this);e.removeClass("mCustomScrollbar _mCS_"+e.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove();c(document).unbind("mousemove."+e.data("mCustomScrollbarIndex")+" mouseup."+e.data("mCustomScrollbarIndex")+" MSPointerMove."+e.data("mCustomScrollbarIndex")+" MSPointerUp."+e.data("mCustomScrollbarIndex"));c(window).unbind("resize."+e.data("mCustomScrollbarIndex"))}},d={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(g,i,h,f,o,y){var y=y||{},v=y.onStart||function(){},p=y.onUpdate||function(){},w=y.onComplete||function(){};var n=t(),l,j=0,r=g.offsetTop,s=g.style;if(i==="left"){r=g.offsetLeft}var m=h-r;q();e();function t(){if(window.performance&&window.performance.now){return window.performance.now()}else{if(window.performance&&window.performance.webkitNow){return window.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return new Date().getTime()}}}}function x(){if(!j){v.call()}j=t()-n;u();if(j>=g._time){g._time=(j>g._time)?j+l-(j-g._time):j+l-1;if(g._time<j+1){g._time=j+1}}if(g._time<f){g._id=_request(x)}else{w.call()}}function u(){if(f>0){g.currVal=k(g._time,r,m,f,o);s[i]=Math.round(g.currVal)+"px"}else{s[i]=h+"px"}p.call()}function e(){l=1000/60;g._time=j+l;_request=(!window.requestAnimationFrame)?function(z){u();return setTimeout(z,0.01)}:window.requestAnimationFrame;g._id=_request(x)}function q(){if(g._id==null){return}if(!window.requestAnimationFrame){clearTimeout(g._id)}else{window.cancelAnimationFrame(g._id)}g._id=null}function k(B,A,F,E,C){switch(C){case"linear":return F*B/E+A;break;case"easeOutQuad":B/=E;return-F*B*(B-2)+A;break;case"easeInOutQuad":B/=E/2;if(B<1){return F/2*B*B+A}B--;return-F/2*(B*(B-2)-1)+A;break;case"easeOutCubic":B/=E;B--;return F*(B*B*B+1)+A;break;case"easeOutQuart":B/=E;B--;return-F*(B*B*B*B-1)+A;break;case"easeOutQuint":B/=E;B--;return F*(B*B*B*B*B+1)+A;break;case"easeOutCirc":B/=E;B--;return F*Math.sqrt(1-B*B)+A;break;case"easeOutSine":return F*Math.sin(B/E*(Math.PI/2))+A;break;case"easeOutExpo":return F*(-Math.pow(2,-10*B/E)+1)+A;break;case"mcsEaseOut":var D=(B/=E)*B,z=D*B;return A+F*(0.499999999999997*z*D+-2.5*D*D+5.5*z+-6.5*D+4*B);break;case"draggerRailEase":B/=E/2;if(B<1){return F/2*B*B*B+A}B-=2;return F/2*(B*B*B+2)+A;break}}},mTweenAxisStop:function(e){if(e._id==null){return}if(!window.requestAnimationFrame){clearTimeout(e._id)}else{window.cancelAnimationFrame(e._id)}e._id=null},rafPolyfill:function(){var f=["ms","moz","webkit","o"],e=f.length;while(--e>-1&&!window.requestAnimationFrame){window.requestAnimationFrame=window[f[e]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[f[e]+"CancelAnimationFrame"]||window[f[e]+"CancelRequestAnimationFrame"]}}};d.rafPolyfill.call();c.support.touch=!!("ontouchstart"in window);c.support.msPointer=window.navigator.msPointerEnabled;var a=("https:"==document.location.protocol)?"https:":"http:";c.event.special.mousewheel||document.write('<script src="'+a+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>');c.fn.mCustomScrollbar=function(e){if(b[e]){return b[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return b.init.apply(this,arguments)}else{c.error("Method "+e+" does not exist")}}}})(jQuery);;;(function($){function defined(a){return typeof a!=='undefined';}
function extend(child,parent,prototype){var F=function(){};F.prototype=parent.prototype;child.prototype=new F();child.prototype.constructor=child;parent.prototype.constructor=parent;child._super=parent.prototype;if(prototype){$.extend(child.prototype,prototype);}}
var SUBST=[['',''],['exit','cancel'],['screen','Screen']];var VENDOR_PREFIXES=['','o','ms','moz','webkit','webkitCurrent'];function native(obj,name){var prefixed;if(typeof obj==='string'){name=obj;obj=document;}
for(var i=0;i<SUBST.length;++i){name=name.replace(SUBST[i][0],SUBST[i][1]);for(var j=0;j<VENDOR_PREFIXES.length;++j){prefixed=VENDOR_PREFIXES[j];prefixed+=j===0?name:name.charAt(0).toUpperCase()+name.substr(1);if(defined(obj[prefixed])){return obj[prefixed];}}}
return void 0;}var ua=navigator.userAgent;var fsEnabled=native('fullscreenEnabled');var IS_ANDROID_CHROME=ua.indexOf('Android')!==-1&&ua.indexOf('Chrome')!==-1;var IS_NATIVELY_SUPPORTED=!IS_ANDROID_CHROME&&defined(native('fullscreenElement'))&&(!defined(fsEnabled)||fsEnabled===true);var version=$.fn.jquery.split('.');var JQ_LT_17=(parseInt(version[0])<2&&parseInt(version[1])<7);var FullScreenAbstract=function(){this.__options=null;this._fullScreenElement=null;this.__savedStyles={};};FullScreenAbstract.prototype={_DEFAULT_OPTIONS:{styles:{'boxSizing':'border-box','MozBoxSizing':'border-box','WebkitBoxSizing':'border-box'},toggleClass:null},__documentOverflow:'',__htmlOverflow:'',_preventDocumentScroll:function(){this.__documentOverflow=$('body')[0].style.overflow;this.__htmlOverflow=$('html')[0].style.overflow;},_allowDocumentScroll:function(){},_fullScreenChange:function(){if(!this.isFullScreen()){this._allowDocumentScroll();this._revertStyles();this._triggerEvents();this._fullScreenElement=null;}else{this._preventDocumentScroll();this._triggerEvents();}},_fullScreenError:function(e){this._revertStyles();this._fullScreenElement=null;if(e){$(document).trigger('fscreenerror',[e]);}},_triggerEvents:function(){$(this._fullScreenElement).trigger(this.isFullScreen()?'fscreenopen':'fscreenclose');$(document).trigger('fscreenchange',[this.isFullScreen(),this._fullScreenElement]);},_saveAndApplyStyles:function(){var $elem=$(this._fullScreenElement);this.__savedStyles={};for(var property in this.__options.styles){this.__savedStyles[property]=this._fullScreenElement.style[property];this._fullScreenElement.style[property]=this.__options.styles[property];}
if(this.__options.toggleClass){$elem.addClass(this.__options.toggleClass);}},_revertStyles:function(){var $elem=$(this._fullScreenElement);for(var property in this.__options.styles){this._fullScreenElement.style[property]=this.__savedStyles[property];}
if(this.__options.toggleClass){$elem.removeClass(this.__options.toggleClass);}},open:function(elem,options){if(elem===this._fullScreenElement){return;}
if(this.isFullScreen()){this.exit();}
this._fullScreenElement=elem;this.__options=$.extend(true,{},this._DEFAULT_OPTIONS,options);this._saveAndApplyStyles();},exit:null,isFullScreen:null,isNativelySupported:function(){return IS_NATIVELY_SUPPORTED;}};var FullScreenNative=function(){FullScreenNative._super.constructor.apply(this,arguments);this.exit=$.proxy(native('exitFullscreen'),document);this._DEFAULT_OPTIONS=$.extend(true,{},this._DEFAULT_OPTIONS,{'styles':{'width':'100%','height':'100%'}});$(document).bind(this._prefixedString('fullscreenchange')+' MSFullscreenChange',$.proxy(this._fullScreenChange,this)).bind(this._prefixedString('fullscreenerror')+' MSFullscreenError',$.proxy(this._fullScreenError,this));};extend(FullScreenNative,FullScreenAbstract,{VENDOR_PREFIXES:['','o','moz','webkit'],_prefixedString:function(str){return $.map(this.VENDOR_PREFIXES,function(s){return s+str;}).join(' ');},open:function(elem,options){FullScreenNative._super.open.apply(this,arguments);var requestFS=native(elem,'requestFullscreen');requestFS.call(elem);},exit:$.noop,isFullScreen:function(){return native('fullscreenElement')!==null;},element:function(){return native('fullscreenElement');}});var FullScreenFallback=function(){FullScreenFallback._super.constructor.apply(this,arguments);this._DEFAULT_OPTIONS=$.extend({},this._DEFAULT_OPTIONS,{'styles':{'position':'fixed','zIndex':'2147483647','left':0,'top':0,'bottom':0,'right':0}});this.__delegateKeydownHandler();};extend(FullScreenFallback,FullScreenAbstract,{__isFullScreen:false,__delegateKeydownHandler:function(){var $doc=$(document);$doc.delegate('*','keydown.fullscreen',$.proxy(this.__keydownHandler,this));var data=JQ_LT_17?$doc.data('events'):$._data(document).events;var events=data['keydown'];if(!JQ_LT_17){events.splice(0,0,events.splice(events.delegateCount-1,1)[0]);}else{data.live.unshift(data.live.pop());}},__keydownHandler:function(e){if(this.isFullScreen()&&e.which===27){this.exit();return false;}
return true;},_revertStyles:function(){FullScreenFallback._super._revertStyles.apply(this,arguments);this._fullScreenElement.offsetHeight;},open:function(elem){FullScreenFallback._super.open.apply(this,arguments);this.__isFullScreen=true;this._fullScreenChange();},exit:function(){this.__isFullScreen=false;this._fullScreenChange();},isFullScreen:function(){return this.__isFullScreen;},element:function(){return this.__isFullScreen?this._fullScreenElement:null;}});$.fullscreen=IS_NATIVELY_SUPPORTED?new FullScreenNative():new FullScreenFallback();$.fn.fullscreen=function(options){var elem=this[0];options=$.extend({toggleClass:null,},options);options.styles={};if(elem){$.fullscreen.open(elem,options);}
return this;};})(jQuery);